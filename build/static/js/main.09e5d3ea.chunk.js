(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{50:function(e,t,c){},54:function(e,t,c){},80:function(e,t,c){},81:function(e,t,c){},82:function(e,t,c){},83:function(e,t,c){},84:function(e,t,c){},85:function(e,t,c){},86:function(e,t,c){},87:function(e,t,c){},89:function(e,t,c){},90:function(e,t,c){"use strict";c.r(t);var s=c(0),n=c(1),a=c.n(n),r=c(18),i=c.n(r),l=(c(50),c(2)),d=c(11),o=c(9),j=c(13),b=c(5),h=c(6),m=c(8),u=c(7),O=c(3);c(54);var x=function(e){var t=e.children,c=e.onClick;return Object(s.jsx)("div",{className:"icon-container p-2 link rounded-circle shadow shadow-secondary text-center",onClick:c,children:t})},p=c(42),f=c.n(p).a.create({baseURL:"https://posbackend.sk.co.ke/api"});function v(e,t,c,s){"success"===t?j.b.success(e,{position:c||"top-right",toastId:s}):"warning"===t?j.b.warn(e,{position:c||"top-right",toastId:s}):j.b.error(e,{position:c||"top-right",toastId:s})}function g(e,t){return f.post(e,t)}function N(e){return f.get(e)}function y(e,t){return e.then((function(e){return v&&v(t,"success"),e}))}function C(e){return e.catch((function(e){if(e.response){var t=e.response.data;if(t)if(t.errors)for(var c in t.errors){t.errors[c].forEach((function(e){return v(e,"danger")}))}else v(t.message,"danger");else v("Database Error","danger")}else v("You are offline","warning");return e}))}var w=c(28),k=c.n(w);function P(e){for(var t in e)if(console.log(e[t]),!e[t])return!0;return!1}function S(e){return e?k()(e).fromNow():"_"}function A(e){return JSON.parse(localStorage.getItem(e||"userSelection"))}function _(e){localStorage.removeItem(e)}function E(e){if(!e)return"_";var t=k()(e);return t.isValid()?t.format("DD/MM/YYYY h:mm a"):"_"}function I(e){for(var t="",c=arguments.length,s=new Array(c>1?c-1:0),n=1;n<c;n++)s[n-1]=arguments[n];return s.forEach((function(e){for(var c in e)e[c]&&(t="".concat(t).concat(c,"=").concat(e[c],"&")),0===e[c]&&(t="".concat(t).concat(c,"=").concat(e[c],"&"))})),t=t.substr(0,t.length-1),"".concat(e,"?").concat(t)}function F(e,t){return"Ksh ".concat(e*t)}function T(e,t){return"count"===e?t:"".concat(t," ").concat(e)}function D(e){return Object(s.jsxs)("nav",{className:"navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0 shadow",children:[Object(s.jsx)(d.b,{className:"navbar-brand col-md-3 col-lg-2 mr-0 px-3",to:"/admin",children:"Scratch Kitchen"}),Object(s.jsx)("button",{className:"navbar-toggler position-absolute d-md-none collapsed",type:"button","data-toggle":"collapse","data-target":"#sidebarMenu","aria-controls":"sidebarMenu","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(s.jsx)("span",{className:"navbar-toggler-icon"})}),Object(s.jsx)("ul",{className:"navbar-nav px-3",children:Object(s.jsx)("li",{className:"nav-item text-nowrap",children:Object(s.jsx)("button",{className:"nav-link link-button",onClick:function(){_("currentUser"),e.history.push("/")},children:"Sign out"})})})]})}function M(){return Object(s.jsx)("nav",{id:"sidebarMenu",className:"col-md-3 col-lg-2 d-md-block bg-light sidebar collapse",children:Object(s.jsx)("div",{className:"sidebar-sticky pt-3",children:Object(s.jsxs)("ul",{className:"nav flex-column",children:[Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsxs)(d.b,{to:"/admin",className:"nav-link  ",children:[Object(s.jsx)("span",{"data-feather":"home"}),"Dashboard ",Object(s.jsx)("span",{className:"sr-only",children:"(current)"})]})}),Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsxs)(d.b,{to:"/admin/admins",className:"nav-link",children:[Object(s.jsx)("span",{"data-feather":"file"}),"Admins"]})}),Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsxs)(d.b,{to:"/admin/employees",className:"nav-link",children:[Object(s.jsx)("span",{"data-feather":"shopping-cart"}),"Employees"]})}),Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsxs)(d.b,{to:"/admin/categories",className:"nav-link",children:[Object(s.jsx)("span",{"data-feather":"users"}),"Categories"]})}),Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsxs)(d.b,{to:"/admin/sales",className:"nav-link",children:[Object(s.jsx)("span",{"data-feather":"layers"}),"Sale History"]})})]})})})}c(80);function R(e){return function(t){Object(m.a)(n,t);var c=Object(u.a)(n);function n(e){var t;Object(b.a)(this,n),t=c.call(this,e);var s=A("currentUser");return s&&s.isAdmin||t.props.history.push("/"),t}return Object(h.a)(n,[{key:"render",value:function(){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(D,Object(l.a)({},this.props)),Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)(M,{}),Object(s.jsx)("main",{role:"main",className:"col-md-9 ml-sm-auto col-lg-10 px-md-4",children:Object(s.jsx)(e,Object(l.a)({},this.props))})]})})]})}}]),n}(a.a.Component)}var U=c(4);c(81);var L=function(e){var t=e.children;return Object(s.jsx)("div",{className:"mymodal animate__animated animate__bounceInUp",children:t})};var q=function(e){var t=e.handleClose,c=Object(n.useState)({firstname:"",lastname:"",email:"",phone:"",password:""}),a=Object(U.a)(c,2),r=a[0],i=a[1],d=function(e){i(Object(l.a)(Object(l.a)({},r),e))};return Object(s.jsx)(L,{children:Object(s.jsxs)("div",{className:"",children:[Object(s.jsx)("div",{className:"modal-header",children:Object(s.jsx)("div",{className:"h4 text-center",children:"New Admin"})}),Object(s.jsxs)("div",{className:"modal-body",children:[Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"firstname",children:"First name"}),Object(s.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter firstname",value:r.firstname,onChange:function(e){return d({firstname:e.target.value})}})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"firstname",children:"Last name"}),Object(s.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter lastname",value:r.lastname,onChange:function(e){return d({lastname:e.target.value})}})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"firstname",children:"Phone Number"}),Object(s.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter phone number",value:r.phone,onChange:function(e){return d({phone:e.target.value})}})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"firstname",children:"Email"}),Object(s.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter email",value:r.email,onChange:function(e){return d({email:e.target.value})}})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"firstname",children:"Password"}),Object(s.jsx)("input",{type:"password",className:"form-control",placeholder:"Enter password",value:r.password,onChange:function(e){return d({password:e.target.value})}})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"firstname",children:"Confirm Password"}),Object(s.jsx)("input",{type:"text",className:"form-control",placeholder:"Confirm password",value:r.confirm_password,onChange:function(e){return d({confirm_password:e.target.value})}})]}),Object(s.jsxs)("div",{className:"mt-2 mb-2 row justify-content-between pl-2 pr-2",children:[Object(s.jsx)("button",{className:"btn btn-secondary col-4",onClick:t,children:"Cancel"}),Object(s.jsx)("button",{className:"btn btn-primary col-4",onClick:function(){r.password!==r.confirm_password?j.b.error("The two passwords do not match"):P(r)?j.b.error("Do not leave fields empty"):Object(O.trackPromise)(C(y(g("admins",r),"Admin added successfully").then((function(e){t()}))))},children:"Save Admin"})]})]})]})})},B=R(function(e){Object(m.a)(c,e);var t=Object(u.a)(c);function c(e){var s;return Object(b.a)(this,c),(s=t.call(this,e)).updateShowAdmin=function(e){s.setState({showAddAdmin:e})},s.onDelete=function(e){Object(O.trackPromise)(C(y(g("admins/".concat(e.id,"/delete")),"Admin deleted successfully").then((function(e){return s.fetchAdmins()}))))},s.state={showAddAdmin:!1,admins:[]},s}return Object(h.a)(c,[{key:"fetchAdmins",value:function(){var e=this;Object(O.trackPromise)(C(y(N("admins")).then((function(t){var c=t.data;e.setState({admins:c})}))))}},{key:"componentDidMount",value:function(){this.fetchAdmins()}},{key:"render",value:function(){var e=this,t=this.state,c=t.showAddAdmin,n=t.admins;return Object(s.jsxs)("div",{className:"mt-3",children:[c&&Object(s.jsx)(q,{handleClose:function(){e.updateShowAdmin(!1),e.fetchAdmins()}}),Object(s.jsx)("h2",{children:"Admins "}),Object(s.jsx)("div",{className:"w-100 row justify-content-end mb-2",children:Object(s.jsxs)("button",{className:"btn btn-info",onClick:function(){return e.updateShowAdmin(!0)},children:[Object(s.jsx)("i",{className:"fa fa-plus mr-2"}),"Add New"]})}),Object(s.jsx)("div",{className:"table-responsive",children:Object(s.jsxs)("table",{className:"table table-striped table-sm",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"#"}),Object(s.jsx)("th",{children:"Name"}),Object(s.jsx)("th",{children:"Phone Number"}),Object(s.jsx)("th",{children:"Email"}),Object(s.jsx)("th",{children:"Updated"})]})}),Object(s.jsx)("tbody",{children:n.map((function(t,c){return Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:++c}),Object(s.jsx)("td",{children:t.firstname+" "+t.lastname}),Object(s.jsx)("td",{children:t.phone}),Object(s.jsx)("td",{children:t.email}),Object(s.jsx)("td",{children:Object(s.jsx)("span",{title:E(t.updated_at),children:S(t.updated_at)})}),Object(s.jsx)("td",{children:Object(s.jsx)(x,{onClick:function(){return e.onDelete(t)},children:Object(s.jsx)("i",{className:"fa fa-trash"})})})]},t.id)}))})]})})]})}}]),c}(n.Component)),K=R(function(e){Object(m.a)(c,e);var t=Object(u.a)(c);function c(e){var s;return Object(b.a)(this,c),(s=t.call(this,e)).state={sales:[]},s}return Object(h.a)(c,[{key:"componentDidMount",value:function(){var e=this;Object(O.trackPromise)(C(y(N("sales")).then((function(t){var c=t.data.sales;e.setState({sales:c})}))))}},{key:"render",value:function(){var e=this,t=this.state.sales;return Object(s.jsxs)("div",{className:"mt-3",children:[Object(s.jsx)("h2",{children:"Latest Sales"}),Object(s.jsx)("div",{className:"table-responsive",children:Object(s.jsxs)("table",{className:"table table-striped table-sm",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"#"}),Object(s.jsx)("th",{children:"Sold By"}),Object(s.jsx)("th",{children:"Payment Method"}),Object(s.jsx)("th",{children:"Number"}),Object(s.jsx)("th",{children:"Amount"}),Object(s.jsx)("th",{children:"Customer Pay"}),Object(s.jsx)("th",{children:"Customer Change"}),Object(s.jsx)("th",{children:"Date"}),Object(s.jsx)("th",{children:"Action"})]})}),Object(s.jsx)("tbody",{children:t.map((function(t,c){return Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:++c}),Object(s.jsx)("td",{children:t.firstname+" "+t.lastname}),Object(s.jsx)("td",{children:t.payment_method}),Object(s.jsx)("td",{children:t.goods_count}),Object(s.jsx)("td",{children:t.total}),Object(s.jsx)("td",{children:F(t.customer_pay,1)}),Object(s.jsx)("td",{children:F(t.customer_change,1)}),Object(s.jsx)("td",{children:E(t.created_at)}),Object(s.jsx)("td",{children:Object(s.jsxs)("button",{className:"btn btn-secondary",onClick:function(){return e.props.history.push("/admin/sales/view/"+t.id)},children:[Object(s.jsx)("i",{className:"fa fa-eye mr-2"}),"View"]})})]},t.id)}))})]})})]})}}]),c}(n.Component));c(82);function H(e){var t=e.item,c=e.onItemClick;return Object(s.jsxs)("div",{className:"item p-2 link mb-2",title:"Click to add",onClick:function(){return c(t)},children:[t.name,Object(s.jsx)("div",{className:"float-right",children:Object(s.jsx)("i",{className:"fa fa-plus"})})]})}var $=function(e){var t=e.category,c=e.onItemClick;return Object(s.jsxs)("div",{className:"category shadow shadow-secondary p-2 mb-2",children:[Object(s.jsx)("h5",{className:"text-center text-uppercase mb-1",children:t.name}),t.goods.map((function(e){return Object(s.jsx)(H,{item:e,onItemClick:c})}))]})},Y=2,G=1,J=1,Q=2,V=["Cash","Mpesa","Card","Glovo","Jumia","Uber Eats","Little Cab"];c(83);var X=function(e){var t=e.place;return Object(s.jsxs)("div",{className:"header w-100",children:[Object(s.jsx)("div",{className:"float-left pl-3 ",children:parseInt(t)===Q?Object(s.jsx)("i",{className:"fas fa-glass-cheers"}):Object(s.jsx)("i",{className:"fas fa-utensils"})}),Object(s.jsxs)("div",{class:"dropdown float-right pr-3 dropleft",children:[Object(s.jsx)("button",{className:"btn btn-light dropdown-toggle ","data-toggle":"dropdown",children:Object(s.jsx)("i",{className:"fas fa-bars"})}),Object(s.jsxs)("div",{class:"dropdown-menu ","aria-labelledby":"dropdownMenuButton",children:[Object(s.jsx)(d.b,{class:"dropdown-item ",to:"/employee/sales",children:"Sales"}),Object(s.jsx)(d.b,{class:"dropdown-item ",to:"/employee",children:"Main Page"}),Object(s.jsx)(d.b,{class:"dropdown-item ",to:"/",children:"Logout"})]})]}),Object(s.jsx)("div",{className:"h3 text-center",children:parseInt(t)===Q?"SCRATCH BAR":"SCRATCH RESTAURANT"})]})};c(84);function Z(e){var t=e.selectedItem,c=e.handleAddToCart,a=Object(n.useState)([]),r=Object(U.a)(a,2),i=r[0],d=r[1],o=Object(n.useState)(0),j=Object(U.a)(o,2),b=j[0],h=j[1],m=Object(n.useState)({quantity:1}),u=Object(U.a)(m,2),x=u[0],p=u[1],f=A("currentUser");Object(n.useEffect)((function(){var e=t.id;e&&Object(O.trackPromise)(C(y(N("pricings?good="+e).then((function(e){var t=e.data.pricings;d(t),h(0)})))))}),[t.id]);var v=i.length&&i[b]||{};return t.name?Object(s.jsxs)("div",{className:"process-section",children:[Object(s.jsx)("h1",{className:"text-center text-dark text-uppercase mb-4",children:t.name}),i.length?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("h3",{className:"text-center text-dark text-uppercase mt-4",children:["Ksh ",v.amount]}),Object(s.jsxs)("div",{className:"add-subtract row justify-content-center",children:["count"===v.unit?null:Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("button",{className:"btn btn-light col-3",onClick:function(){b>0&&h(b-1)},children:Object(s.jsx)("i",{className:"fa fa-minus"})}),Object(s.jsx)("div",{className:"h4 text-center p-2 ml-1 mr-1",children:v.measure+" "+v.unit}),Object(s.jsx)("button",{className:"btn btn-light col-3",onClick:function(){b<i.length-1&&h(b+1)},children:Object(s.jsx)("i",{className:"fa fa-plus"})})]}),Object(s.jsx)("div",{className:"w-100"}),Object(s.jsxs)("div",{className:"form-group col-2 mt-3",children:[Object(s.jsx)("label",{htmlFor:"",children:"Quantity"}),Object(s.jsx)("input",{type:"\r ",className:"form-control ",value:x.quantity,onChange:function(e){return p(Object(l.a)(Object(l.a)({},x),{},{quantity:e.target.value}))}})]})]}),Object(s.jsx)("div",{className:"mt-4 row justify-content-center",onClick:function(){var e=Object(l.a)(Object(l.a)({},x),{},{price:i[b]},t);c(e)},children:Object(s.jsx)("button",{className:"btn btn-primary text-uppercase p-2 col-6",children:"Add To Cart"})})]}):Object(s.jsxs)("div",{className:"add-subtract bg-danger text-white p-2",children:[Object(s.jsx)("h1",{className:"text-center",children:"Oops !"}),Object(s.jsx)("h5",{className:"text-center",children:"This product do not have pricing, please add pricing in the admin section"})]})]}):Object(s.jsxs)("div",{className:"process-section bg-secondary pb-4",children:[Object(s.jsxs)("h1",{className:"jumbotron jumbotron-fluid text-center bg-transparent  text-white ",children:["Hi there ",f.firstname,","]}),Object(s.jsx)("p",{className:"text-lead text-center text-warning",children:"Please choose an item in the menu to proceed"})]})}var z=c(44);function W(e){var t=e.item,c=e.removeFromCart,a=e.useOnlinePrice,r=Object(n.useState)("Ksh 0"),i=Object(U.a)(r,2),l=i[0],d=i[1];return Object(n.useEffect)((function(){d(F(a?t.price.online_price:t.price.amount,t.quantity))}),[t.quantity,t.price.online_price,t.price.amount,a]),Object(s.jsx)("div",{className:"item p-2  mb-2",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col text-left",children:t.name}),Object(s.jsx)("div",{className:"col text-center",children:T(t.price.unit,t.price.measure)}),Object(s.jsx)("div",{className:"col text-center",children:t.quantity}),Object(s.jsx)("div",{className:"col text-center",children:l}),Object(s.jsx)("div",{className:"col text-right link",onClick:function(){return c(t)},children:Object(s.jsx)("i",{className:"fa fa-times"})})]})})}var ee=function(e){var t=e.cartItems,c=e.removeFromCart,a=e.handleSale,r=Object(n.useState)(!1),i=Object(U.a)(r,2),d=i[0],o=i[1],j=function(){if(t.length){var e=0;return t.forEach((function(t){if(d&&0===parseInt(t.price.online_price))return v("This good does not have online price. please add","error",null,"no-duplicate"),void o(!1);e+=(d?parseInt(t.price.online_price):t.price.amount)*t.quantity})),e}return 0},b=function(){return F(j(),1)},h=Object(n.useState)({payment_method:V[0],transaction_code:"",total:b()}),m=Object(U.a)(h,2),u=m[0],O=m[1];return Object(s.jsxs)("div",{className:"card bg-transparent border-0",children:[Object(s.jsx)("h4",{className:"text-uppercase text-center mb-3",children:"Receipt"}),t.map((function(e){return Object(s.jsx)(W,{item:e,removeFromCart:c,useOnlinePrice:d},e.id+e.price.amount)})),Object(s.jsx)("hr",{}),Object(s.jsxs)("div",{className:"form-group row",children:[Object(s.jsx)("div",{className:"col text-left",children:"PAYMENT METHOD"}),Object(s.jsx)("div",{className:"col text-center",children:Object(s.jsx)("select",{name:"",id:"",className:"form-control",value:u.payment_method,onChange:function(e){var t=e.target.value;O(Object(l.a)(Object(l.a)({},u),{},{payment_method:t}));var c=function(e){var t=Object(z.a)(V),c=function(e,t){return t.filter((function(t){return t!==e}))};return(t=c("Mpesa",c("Cash",c("Card",t)))).includes(e)}(t);o(c)},children:V.map((function(e){return Object(s.jsx)("option",{value:e,children:e},e)}))})})]}),Object(s.jsxs)("div",{className:"form-group row",children:[Object(s.jsx)("div",{className:"col text-left",children:"SUB TOTAL"}),Object(s.jsx)("div",{className:"col text-center",children:b()})]}),Object(s.jsxs)("div",{className:"form-group row",children:[Object(s.jsx)("div",{className:"col text-left",children:"ADDITIONAL CHARGES"}),Object(s.jsx)("div",{className:"col text-center",children:"Ksh 0"})]}),Object(s.jsxs)("div",{className:"form-group row",children:[Object(s.jsx)("div",{className:"col text-left",children:"TOTAL"}),Object(s.jsx)("div",{className:"col text-center",children:b()})]}),"Mpesa"===u.payment_method&&Object(s.jsxs)("div",{className:"form-group  mt-3",children:[Object(s.jsx)("label",{htmlFor:"",children:"Transaction Code"}),Object(s.jsx)("input",{type:"text",className:"form-control",placeholder:"OK749ZTL6Y",onChange:function(e){return O(Object(l.a)(Object(l.a)({},u),{},{transaction_code:e.target.value}))}})]}),Object(s.jsxs)("div",{className:"form-group  mt-3",children:[Object(s.jsx)("label",{htmlFor:"",children:"Customer Paid"}),Object(s.jsx)("input",{type:"text",className:"form-control",placeholder:"Amount customer paid",onChange:function(e){return O(Object(l.a)(Object(l.a)({},u),{},{customer_pay:e.target.value,customer_change:parseFloat(e.target.value)-j()}))}})]}),Object(s.jsx)("div",{className:"mt-4 row justify-content-center",onClick:function(){return a(Object(l.a)(Object(l.a)({},u),{},{total:b()}))},children:Object(s.jsx)("button",{className:"btn btn-success text-uppercase p-2 col-6",children:"Confirm & Print"})})]})};c(85),c(86);function te(e){e.payment,e.cartItems;var t=e.onAfterPrint;return Object(s.jsxs)("div",{className:"container-fluid row justify-content-center",children:[Object(s.jsxs)("div",{id:"invoice-POS",className:"col-12",children:[Object(s.jsx)("center",{id:"top",children:Object(s.jsx)("div",{class:"info",children:Object(s.jsx)("h2",{children:"Scratch Kitchen"})})}),Object(s.jsx)("div",{id:"mid",children:Object(s.jsxs)("div",{class:"info",children:[Object(s.jsx)("h2",{children:"Scratch Kitchen"}),Object(s.jsxs)("p",{className:"font-weight-bold",children:["Address : P.O.BOX 102358-00101",Object(s.jsx)("br",{}),"Email : askscratchkitchen@gmail.com /ig@scratchkitchen ",Object(s.jsx)("br",{}),"Phone : 0791 482 995/0756936852",Object(s.jsx)("br",{})]})]})}),Object(s.jsxs)("div",{id:"bot",children:[Object(s.jsx)("div",{id:"table",children:Object(s.jsxs)("table",{children:[Object(s.jsxs)("tr",{class:"tabletitle",children:[Object(s.jsx)("td",{class:"item",children:Object(s.jsx)("h2",{children:"Item"})}),Object(s.jsx)("td",{class:"Hours",children:Object(s.jsx)("h2",{children:"Qty"})}),Object(s.jsx)("td",{class:"Rate",children:Object(s.jsx)("h2",{children:"Sub Total"})})]}),Object(s.jsxs)("tr",{class:"service",children:[Object(s.jsx)("td",{class:"tableitem",children:Object(s.jsx)("p",{class:"itemtext",children:"Communication"})}),Object(s.jsx)("td",{class:"tableitem",children:Object(s.jsx)("p",{class:"itemtext",children:"5"})}),Object(s.jsx)("td",{class:"tableitem",children:Object(s.jsx)("p",{class:"itemtext",children:"$375.00"})})]}),Object(s.jsxs)("tr",{class:"service",children:[Object(s.jsx)("td",{class:"tableitem",children:Object(s.jsx)("p",{class:"itemtext",children:"Asset Gathering"})}),Object(s.jsx)("td",{class:"tableitem",children:Object(s.jsx)("p",{class:"itemtext",children:"3"})}),Object(s.jsx)("td",{class:"tableitem",children:Object(s.jsx)("p",{class:"itemtext",children:"$225.00"})})]}),Object(s.jsxs)("tr",{class:"service",children:[Object(s.jsx)("td",{class:"tableitem",children:Object(s.jsx)("p",{class:"itemtext",children:"Design Development"})}),Object(s.jsx)("td",{class:"tableitem",children:Object(s.jsx)("p",{class:"itemtext",children:"5"})}),Object(s.jsx)("td",{class:"tableitem",children:Object(s.jsx)("p",{class:"itemtext",children:"$375.00"})})]}),Object(s.jsxs)("tr",{class:"service",children:[Object(s.jsx)("td",{class:"tableitem",children:Object(s.jsx)("p",{class:"itemtext",children:"Animation"})}),Object(s.jsx)("td",{class:"tableitem",children:Object(s.jsx)("p",{class:"itemtext",children:"20"})}),Object(s.jsx)("td",{class:"tableitem",children:Object(s.jsx)("p",{class:"itemtext",children:"$1500.00"})})]}),Object(s.jsxs)("tr",{class:"service",children:[Object(s.jsx)("td",{class:"tableitem",children:Object(s.jsx)("p",{class:"itemtext",children:"Animation Revisions"})}),Object(s.jsx)("td",{class:"tableitem",children:Object(s.jsx)("p",{class:"itemtext",children:"10"})}),Object(s.jsx)("td",{class:"tableitem",children:Object(s.jsx)("p",{class:"itemtext",children:"$750.00"})})]}),Object(s.jsxs)("tr",{class:"tabletitle",children:[Object(s.jsx)("td",{}),Object(s.jsx)("td",{class:"Rate",children:Object(s.jsx)("h2",{children:"tax"})}),Object(s.jsx)("td",{class:"payment",children:Object(s.jsx)("h2",{children:"$419.25"})})]}),Object(s.jsxs)("tr",{class:"tabletitle",children:[Object(s.jsx)("td",{}),Object(s.jsx)("td",{class:"Rate",children:Object(s.jsx)("h2",{children:"Total"})}),Object(s.jsx)("td",{class:"payment",children:Object(s.jsx)("h2",{children:"$3,644.25"})})]})]})}),Object(s.jsx)("div",{id:"legalcopy",children:Object(s.jsxs)("p",{class:"legal",children:[Object(s.jsx)("strong",{children:"Thank you for your business!"}),"\xa0",Object(s.jsx)("strong",{children:"Follow use on ig@scratchkitchen"})]})})]})]}),Object(s.jsx)("div",{className:"w-100 row justify-content-end hidden-print fixed-bottom",children:Object(s.jsxs)("button",{className:"btn btn-primary",onClick:function(){window.print(),t()},children:[Object(s.jsx)("i",{className:"fa fa-print"}),"Confirm Print"]})})]})}var ce=function(e){return function(t){Object(m.a)(n,t);var c=Object(u.a)(n);function n(){return Object(b.a)(this,n),c.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){var t=A("currentUser");return!t||t.isAdmin?(this.props.history.push("/"),Object(s.jsx)(s.Fragment,{})):Object(s.jsx)(e,Object(l.a)({},this.props))}}]),n}(n.Component)},se=ce(function(e){Object(m.a)(c,e);var t=Object(u.a)(c);function c(e){var s;return Object(b.a)(this,c),(s=t.call(this,e)).handleChangeCategory=function(e){s.setState({selectedCategoryId:e.target.value},(function(){return s.getFilteredCategories()}))},s.handleSearch=function(e){s.setState({q:e.target.value},(function(){return s.getFilteredCategories()}))},s.onItemClick=function(e){s.setState({selectedItem:e})},s.handleAddToCart=function(e){var t=s.state.cartItems,c=t.findIndex((function(t){return t.id===e.id&&e.price.measure===t.price.measure}));c>=0?(v("Item updated in the cart","success","bottom-right"),t[c]=e):(v("Item added to cart","success","bottom-right"),t.push(e)),s.setState({cartItems:t})},s.removeFromCart=function(e){var t=s.state.cartItems,c=t.findIndex((function(t){return t.id===e.id&&e.price.measure===t.price.measure}));c>=0&&(t.splice(c,1),v("Item removed from cart","warning","bottom-right"),s.setState(t))},s.handleSale=function(e){var t=s.state.cartItems,c=A("currentUser");Object(O.trackPromise)(C(y(g("sales",Object(l.a)(Object(l.a)({},e),{},{sold_by:"".concat(c.id),sold_goods:t.length})).then((function(e){var n=e.data.sale;s.setState({payment:Object(l.a)(Object(l.a)({},n),{},{sold_by_text:"".concat(c.firstname," ").concat(c.lastname)})});var a=[],r=[],i=[],d=[];t.forEach((function(e){a.push(e.id),r.push(parseInt(e.quantity)),i.push(T(e.price.unit,e.price.measure)),d.push("Ksh ".concat(e.price.amount))})),Object(O.trackPromise)(C(y(g("sales/history",{goods:a,quantities:r,prices:d,measures:i,sale_id:n.id})).then((function(e){s.setState({showPrint:!0})}))))})))))},s.state={categories:[],filteredCategories:[],selectedCategoryId:"",q:"",selectedItem:{},cartItems:[],payment:{},showPrint:!1},s.receiptRef=a.a.createRef(),s}return Object(h.a)(c,[{key:"componentDidMount",value:function(){this.getCategories()}},{key:"getCategories",value:function(){var e=this,t=I("categories",{place:this.props.match.params.id});Object(O.trackPromise)(C(y(N(t)).then((function(t){var c=t.data.categories;e.setState({categories:c,filteredCategories:c})}))))}},{key:"getFilteredCategories",value:function(){var e=this,t=this.state;C(y(N(I("categories/filtered",{category:t.selectedCategoryId},{q:t.q},{place:this.props.match.params.id}))).then((function(t){e.setState({filteredCategories:t.data.categories})})))}},{key:"render",value:function(){var e=this,t=this.state,c=t.categories,n=t.filteredCategories,a=t.q,r=t.selectedItem,i=t.cartItems,l=t.payment;return t.showPrint?Object(s.jsx)(te,{cartItems:i,payment:l,printReceipt:this.printReceipt,onAfterPrint:function(){e.setState({selectedItem:{},cartItems:[],payment:{},showPrint:!1})}}):Object(s.jsx)("div",{className:"container-fluid hidden-print",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)(X,{place:this.props.match.params.id}),Object(s.jsxs)("div",{className:"col-md-12 row mt-2 justify-content-center",children:[Object(s.jsxs)("div",{className:"col-sm  side-part p-2 section",children:[Object(s.jsxs)("div",{className:"input-group mb-3",children:[Object(s.jsx)("input",{type:"text",className:"form-control",placeholder:"Search anything","aria-label":"Recipient's username","aria-describedby":"basic-addon2",value:a,onChange:this.handleSearch}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{className:"btn btn-outline-secondary",type:"button",children:Object(s.jsx)("i",{className:"fa fa-search"})})})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"category",children:"Select Category"}),Object(s.jsxs)("select",{name:"\r ",id:"",className:"form-control",onChange:this.handleChangeCategory,children:[Object(s.jsx)("option",{value:"",children:"All Categories"}),c.map((function(e){return Object(s.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]}),n.map((function(t){return t.goods.length?Object(s.jsx)($,{category:t,onItemClick:e.onItemClick},t.id):null}))]}),Object(s.jsx)("div",{className:"col-sm border-right border-dark border-left border-dark section",children:Object(s.jsx)(Z,{selectedItem:r,handleAddToCart:this.handleAddToCart})}),Object(s.jsx)("div",{className:"col-sm",children:Object(s.jsx)(ee,{cartItems:i,removeFromCart:this.removeFromCart,handleSale:this.handleSale})})]})]})})}}]),c}(n.Component));var ne=function(e){var t=e.handleClose,c=Object(n.useState)({firstname:"",lastname:"",email:"",phone:"",password:""}),a=Object(U.a)(c,2),r=a[0],i=a[1],d=function(e){i(Object(l.a)(Object(l.a)({},r),e))};return Object(s.jsx)(L,{children:Object(s.jsxs)("div",{className:"",children:[Object(s.jsx)("div",{className:"modal-header",children:Object(s.jsx)("div",{className:"h4 text-center",children:"New Employee"})}),Object(s.jsxs)("div",{className:"modal-body",children:[Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"firstname",children:"First name"}),Object(s.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter firstname",value:r.firstname,onChange:function(e){return d({firstname:e.target.value})}})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"firstname",children:"Last name"}),Object(s.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter lastname",value:r.lastname,onChange:function(e){return d({lastname:e.target.value})}})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"firstname",children:"Phone Number"}),Object(s.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter phone number",value:r.phone,onChange:function(e){return d({phone:e.target.value})}})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"firstname",children:"Email"}),Object(s.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter email",value:r.email,onChange:function(e){return d({email:e.target.value})}})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"firstname",children:"Password"}),Object(s.jsx)("input",{type:"password",className:"form-control",placeholder:"Enter password",value:r.password,onChange:function(e){return d({password:e.target.value})}})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"firstname",children:"Confirm Password"}),Object(s.jsx)("input",{type:"text",className:"form-control",placeholder:"Confirm password",value:r.confirm_password,onChange:function(e){return d({confirm_password:e.target.value})}})]}),Object(s.jsxs)("div",{className:"mt-2 mb-2 row justify-content-between pl-2 pr-2",children:[Object(s.jsx)("button",{className:"btn btn-secondary col-4",onClick:t,children:"Cancel"}),Object(s.jsx)("button",{className:"btn btn-primary col-4",onClick:function(){r.password!==r.confirm_password?j.b.error("The two passwords do not match"):P(r)?j.b.error("Do not leave fields empty"):Object(O.trackPromise)(C(y(g("employees",r),"Employee added successfully").then((function(e){t()}))))},children:"Save Employee"})]})]})]})})},ae=R(function(e){Object(m.a)(c,e);var t=Object(u.a)(c);function c(e){var s;return Object(b.a)(this,c),(s=t.call(this,e)).updateShowAdmin=function(e){s.setState({showAddEmployee:e})},s.onDelete=function(e){Object(O.trackPromise)(C(y(g("employees/".concat(e.id,"/delete")),"Employee deleted successfully").then((function(e){return s.fetchEmployees()}))))},s.state={showAddEmployee:!1,employees:[]},s}return Object(h.a)(c,[{key:"fetchEmployees",value:function(){var e=this;Object(O.trackPromise)(C(y(N("employees")).then((function(t){var c=t.data;e.setState({employees:c})}))))}},{key:"componentDidMount",value:function(){this.fetchEmployees()}},{key:"render",value:function(){var e=this,t=this.state,c=t.showAddEmployee,n=t.employees;return Object(s.jsxs)("div",{className:"mt-3",children:[c&&Object(s.jsx)(ne,{handleClose:function(){e.updateShowAdmin(!1),e.fetchEmployees()}}),Object(s.jsx)("h2",{children:"Employees "}),Object(s.jsx)("div",{className:"w-100 row justify-content-end mb-2",children:Object(s.jsxs)("button",{className:"btn btn-info",onClick:function(){return e.updateShowAdmin(!0)},children:[Object(s.jsx)("i",{className:"fa fa-plus mr-2"}),"Add New"]})}),Object(s.jsx)("div",{className:"table-responsive",children:Object(s.jsxs)("table",{className:"table table-striped table-sm",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"#"}),Object(s.jsx)("th",{children:"Name"}),Object(s.jsx)("th",{children:"Phone Number"}),Object(s.jsx)("th",{children:"Email"}),Object(s.jsx)("th",{children:"Updated"})]})}),Object(s.jsx)("tbody",{children:n.map((function(t,c){return Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:++c}),Object(s.jsx)("td",{children:t.firstname+" "+t.lastname}),Object(s.jsx)("td",{children:t.phone}),Object(s.jsx)("td",{children:t.email}),Object(s.jsx)("td",{children:Object(s.jsx)("span",{title:E(t.updated_at),children:S(t.updated_at)})}),Object(s.jsx)("td",{children:Object(s.jsx)(x,{onClick:function(){return e.onDelete(t)},children:Object(s.jsx)("i",{className:"fa fa-trash"})})})]},t.id)}))})]})})]})}}]),c}(n.Component)),re=function(e){Object(m.a)(c,e);var t=Object(u.a)(c);function c(e){var s;return Object(b.a)(this,c),(s=t.call(this,e)).updatePropChange=function(e){s.setState({user:Object(l.a)(Object(l.a)({},s.state.user),e)})},s.handleLogin=function(){var e=s.state.user,t="admins/login",c="/admin",n=e.level===G;n||(t="employees/login",c="/employee"),Object(O.trackPromise)(C(y(g(t,e),"Login successful").then((function(e){var t,a,r=e.data.user;t="currentUser",a=Object(l.a)(Object(l.a)({},r),{},{isAdmin:n}),localStorage.setItem(t,JSON.stringify(a)),s.props.history.push(c)}))))},s.state={user:{level:Y}},s}return Object(h.a)(c,[{key:"componentDidMount",value:function(){_("currentUser")}},{key:"render",value:function(){var e=this,t=this.state.user;return Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("div",{className:"row justify-content-center",children:Object(s.jsx)("div",{className:"card shadow shadow-secondary mt-4",children:Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("h1",{className:"jumbotron jumbotron-fluid bg-transparent",children:"SCRATCH KITCHEN"}),Object(s.jsx)("hr",{}),Object(s.jsx)("div",{className:"form-group row justify-content-center",children:Object(s.jsxs)("div",{className:"btn-group col-12",role:"group","aria-label":"Basic example",children:[Object(s.jsx)("button",{type:"button",className:"btn btn-".concat(t.level===Y?"white border-dark":"dark"),onClick:function(){return e.updatePropChange({level:G})},children:"Admin"}),Object(s.jsx)("button",{type:"button",className:"btn btn-".concat(t.level===G?"white border-dark":"dark"),onClick:function(){return e.updatePropChange({level:Y})},children:"Employee"})]})}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"email",children:"Email"}),Object(s.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter email",onChange:function(t){return e.updatePropChange({email:t.target.value})}})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"username",children:"Password"}),Object(s.jsx)("input",{type:"password",className:"form-control",placeholder:"Enter password",onChange:function(t){return e.updatePropChange({password:t.target.value})}})]}),Object(s.jsx)("hr",{}),Object(s.jsx)("div",{className:"row justify-content-center",children:Object(s.jsx)("button",{className:"btn btn-primary col-6",onClick:this.handleLogin,children:"Login"})})]})})})})}}]),c}(n.Component);function ie(e){var t=e.handleClose,c=Object(n.useState)({}),a=Object(U.a)(c,2),r=a[0],i=a[1];return Object(s.jsxs)(L,{children:[Object(s.jsx)("div",{className:"modal-header",children:Object(s.jsx)("div",{className:"h4 text-center",children:"Add Category"})}),Object(s.jsxs)("div",{className:"modal-body",children:[Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"",children:"Type"}),Object(s.jsxs)("select",{name:"",id:"",className:"form-control",onChange:function(e){return i(Object(l.a)(Object(l.a)({},r),{},{place:e.target.value}))},children:[Object(s.jsx)("option",{value:"",children:"Select Type"}),Object(s.jsx)("option",{value:Q,children:"Bar"}),Object(s.jsx)("option",{value:J,children:"Restaurant"})]})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"",children:"Name"}),Object(s.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter name ",value:r.name,onChange:function(e){return i(Object(l.a)(Object(l.a)({},r),{},{name:e.target.value}))}})]}),Object(s.jsxs)("div",{className:"mt-2 mb-2 row justify-content-between pl-2 pr-2",children:[Object(s.jsx)("button",{className:"btn btn-secondary col-4",onClick:t,children:"Cancel"}),Object(s.jsx)("button",{className:"btn btn-primary col-4",onClick:function(){Object(O.trackPromise)(C(y(g("categories",r),"Category added successfully").then((function(e){return t()}))))},children:"Save Category"})]})]})]})}var le=R(function(e){Object(m.a)(c,e);var t=Object(u.a)(c);function c(e){var s;return Object(b.a)(this,c),(s=t.call(this,e)).updateShowAddCategory=function(e){s.setState({showAddCategory:e})},s.onDelete=function(e){Object(O.trackPromise)(C(y(g("categories/".concat(e.id,"/delete")),"Category deleted successfully").then((function(e){return s.fetchCategories()}))))},s.state={categories:[]},s}return Object(h.a)(c,[{key:"fetchCategories",value:function(){var e=this;Object(O.trackPromise)(C(y(N("categories")).then((function(t){e.setState({categories:t.data.categories})}))))}},{key:"componentDidMount",value:function(){this.fetchCategories()}},{key:"render",value:function(){var e=this,t=this.state,c=t.showAddCategory,n=t.categories;return Object(s.jsxs)("div",{className:"mt-3",children:[c&&Object(s.jsx)(ie,{handleClose:function(){e.updateShowAddCategory(!1),e.fetchCategories()}}),Object(s.jsx)("h2",{children:"Categories "}),Object(s.jsx)("div",{className:"w-100 row justify-content-end mb-2",children:Object(s.jsxs)("button",{className:"btn btn-info",onClick:function(){return e.updateShowAddCategory(!0)},children:[Object(s.jsx)("i",{className:"fa fa-plus mr-2"}),"Add New"]})}),Object(s.jsx)("div",{className:"table-responsive",children:Object(s.jsxs)("table",{className:"table table-striped table-sm",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"#"}),Object(s.jsx)("th",{children:"Name"}),Object(s.jsx)("th",{children:"Type"}),Object(s.jsx)("th",{children:"Created"}),Object(s.jsx)("th",{children:"Updated"})]})}),Object(s.jsx)("tbody",{children:n.map((function(t,c){return Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:++c}),Object(s.jsx)("td",{children:Object(s.jsx)(d.b,{to:"/admin/products/".concat(t.id),className:"link",children:t.name})}),Object(s.jsx)("td",{children:t.place===Q?"Bar":"Restaurant"}),Object(s.jsx)("td",{children:Object(s.jsx)("span",{title:E(t.created_at),children:S(t.created_at)})}),Object(s.jsx)("td",{children:Object(s.jsx)("span",{title:E(t.updated_at),children:S(t.updated_at)})}),Object(s.jsx)("td",{children:Object(s.jsx)(x,{onClick:function(){return e.onDelete(t)},children:Object(s.jsx)("i",{className:"fa fa-trash"})})})]},t.id)}))})]})})]})}}]),c}(n.Component));function de(e){var t=e.handleClose,c=e.category,a=Object(n.useState)({}),r=Object(U.a)(a,2),i=r[0],d=r[1];return Object(s.jsxs)(L,{children:[Object(s.jsx)("div",{className:"modal-header",children:Object(s.jsx)("div",{className:"h4 text-center",children:"Add Product"})}),Object(s.jsxs)("div",{className:"modal-body",children:[Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"",children:"Name"}),Object(s.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter name ",value:i.name,onChange:function(e){return d(Object(l.a)(Object(l.a)({},i),{},{name:e.target.value}))}})]}),Object(s.jsxs)("div",{className:"mt-2 mb-2 row justify-content-between pl-2 pr-2",children:[Object(s.jsx)("button",{className:"btn btn-secondary col-4",onClick:t,children:"Cancel"}),Object(s.jsx)("button",{className:"btn btn-primary col-4",onClick:function(){Object(O.trackPromise)(C(y(g("products",Object(l.a)(Object(l.a)({},i),{},{category:c})),"Product added successfully").then((function(e){return t()}))))},children:"Save Product"})]})]})]})}var oe=R(function(e){Object(m.a)(c,e);var t=Object(u.a)(c);function c(e){var s;return Object(b.a)(this,c),(s=t.call(this,e)).updateShowAddProduct=function(e){s.setState({showAddProduct:e})},s.onDelete=function(e){Object(O.trackPromise)(C(y(g("products/".concat(e.id,"/delete")),"Product deleted successfully").then((function(e){return s.fetchProducts()}))))},s.state={showAddProduct:!1,products:[],category:{}},s}return Object(h.a)(c,[{key:"componentDidMount",value:function(){this.fetchProducts()}},{key:"fetchProducts",value:function(){var e=this,t=this.props.match.params.id;Object(O.trackPromise)(C(y(N("products?category=".concat(t))).then((function(t){var c=t.data,s=c.products,n=c.category;e.setState({products:s,category:n})}))))}},{key:"render",value:function(){var e=this,t=this.state,c=t.showAddProduct,n=t.products,a=t.category;return Object(s.jsxs)("div",{className:"mt-3",children:[c&&Object(s.jsx)(de,{handleClose:function(){e.updateShowAddProduct(!1),e.fetchProducts()},category:this.props.match.params.id}),Object(s.jsx)("h2",{children:"Products (".concat(a.name,")")}),Object(s.jsx)("div",{className:"w-100 row justify-content-end mb-2",children:Object(s.jsxs)("button",{className:"btn btn-info",onClick:function(){return e.updateShowAddProduct(!0)},children:[Object(s.jsx)("i",{className:"fa fa-plus mr-2"}),"Add New"]})}),Object(s.jsx)("div",{className:"table-responsive",children:Object(s.jsxs)("table",{className:"table table-striped table-sm",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"#"}),Object(s.jsx)("th",{children:"Name"}),Object(s.jsx)("th",{children:"Created"}),Object(s.jsx)("th",{children:"Updated"})]})}),Object(s.jsx)("tbody",{children:n.map((function(t,c){return Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:++c}),Object(s.jsx)("td",{children:Object(s.jsx)(d.b,{to:"/admin/products/".concat(t.id,"/pricing"),className:"link",children:t.name})}),Object(s.jsx)("td",{children:Object(s.jsx)("span",{title:E(t.created_at),children:S(t.created_at)})}),Object(s.jsx)("td",{children:Object(s.jsx)("span",{title:E(t.updated_at),children:S(t.updated_at)})}),Object(s.jsx)("td",{children:Object(s.jsx)(x,{onClick:function(){return e.onDelete(t)},children:Object(s.jsx)("i",{className:"fa fa-trash"})})})]})}))})]})})]})}}]),c}(n.Component)),je=R(function(e){Object(m.a)(c,e);var t=Object(u.a)(c);function c(e){var s;return Object(b.a)(this,c),(s=t.call(this,e)).updatePropChange=function(e){s.setState({selectedPricing:Object(l.a)(Object(l.a)({},s.state.selectedPricing),e)})},s.addPricing=function(){var e=s.state.selectedPricing,t=s.props.match.params.id,c="pricings",n="Price added successfully";e.id&&(c="pricings/".concat(e.id,"/edit"),n="Price updated successfully"),e.good=t,Object(O.trackPromise)(C(y(g(c,e),n).then((function(e){s.getPricings()}))))},s.showEditPricing=function(e){s.setState({selectedPricing:e})},s.onDelete=function(e){Object(O.trackPromise)(C(y(g("pricings/".concat(e.id,"/delete"))).then((function(e){return s.getPricings()}))))},s.state={pricings:[],selectedPricing:{},good:{}},s}return Object(h.a)(c,[{key:"getPricings",value:function(){var e=this,t=this.props.match.params.id;if(!t)return j.b.warn("The good id is required to view this page"),void this.props.history.goBack();Object(O.trackPromise)(C(y(N("pricings?good="+t)).then((function(t){var c=t.data.pricings,s=t.data.good;e.setState({pricings:c,good:s})}))))}},{key:"componentDidMount",value:function(){this.getPricings()}},{key:"render",value:function(){var e=this,t=this.state,c=t.pricings,n=t.selectedPricing,a=t.good;return Object(s.jsxs)("div",{className:"mt-3",children:[Object(s.jsxs)("h2",{children:["Pricing (".concat(a.name,")")," "]}),Object(s.jsx)("div",{className:"card",children:Object(s.jsx)("div",{className:"card-body",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"",children:"Unit"}),Object(s.jsxs)("select",{name:"",id:"",className:"form-control",onChange:function(t){return e.updatePropChange({unit:t.target.value})},value:n.unit,children:[Object(s.jsx)("option",{value:"",children:"Select Unit"}),Object(s.jsx)("option",{value:"ml",children:"ML"}),Object(s.jsx)("option",{value:"kg",children:"KG"}),Object(s.jsx)("option",{value:"count",children:"Count"})]})]}),Object(s.jsxs)("div",{className:"form-group ml-1",children:[Object(s.jsxs)("label",{htmlFor:"",children:["Measure - ",n.unit]}),Object(s.jsx)("input",{type:"text",className:"form-control",placeholder:"Eg 1/4",value:n.measure,onChange:function(t){return e.updatePropChange({measure:t.target.value})}})]}),Object(s.jsxs)("div",{className:"form-group ml-1",children:[Object(s.jsx)("label",{htmlFor:"",children:"Retail Price"}),Object(s.jsx)("input",{type:"text",className:"form-control",placeholder:" Eg 300",value:n.amount,onChange:function(t){return e.updatePropChange({amount:t.target.value})}})]}),Object(s.jsxs)("div",{className:"form-group ml-1",children:[Object(s.jsx)("label",{htmlFor:"",children:"Online Price"}),Object(s.jsx)("input",{type:"text",className:"form-control",placeholder:" Eg 400",value:n.online_price,onChange:function(t){return e.updatePropChange({online_price:t.target.value})}})]}),Object(s.jsx)("div",{className:"form-group ml-2 mt-2 col-3",children:Object(s.jsx)("button",{className:"btn btn-primary mt-4 w-100",onClick:this.addPricing,children:n.id?"Update":"Add"})})]})})}),Object(s.jsx)("div",{className:"card mt-3",children:Object(s.jsx)("div",{className:"card-body",children:Object(s.jsx)("div",{className:"table-responsive",children:Object(s.jsxs)("table",{className:"table table-striped table-sm",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"#"}),Object(s.jsx)("th",{children:"Measure"}),Object(s.jsx)("th",{children:"Retail Price"}),Object(s.jsx)("th",{children:"Online Price"}),Object(s.jsx)("th",{children:"Created"}),Object(s.jsx)("th",{children:"Updated"})]})}),Object(s.jsx)("tbody",{children:c.map((function(t,c){return Object(s.jsxs)("tr",{className:"link",children:[Object(s.jsx)("td",{children:++c}),Object(s.jsx)("td",{children:T(t.unit,t.measure)}),Object(s.jsx)("td",{children:"Ksh "+t.amount}),Object(s.jsx)("td",{children:"Ksh "+t.online_price}),Object(s.jsx)("td",{children:Object(s.jsx)("span",{title:E(t.created_at),children:S(t.created_at)})}),Object(s.jsx)("td",{children:Object(s.jsx)("span",{title:E(t.updated_at),children:S(t.updated_at)})}),Object(s.jsx)("td",{children:Object(s.jsxs)("div",{className:"d-flex justify-content-around w-75",children:[Object(s.jsx)(x,{onClick:function(){return e.onDelete(t)},children:Object(s.jsx)("i",{className:"fa fa-trash"})}),Object(s.jsx)(x,{onClick:function(){return e.showEditPricing(t)},children:Object(s.jsx)("i",{className:"fa fa-edit"})})]})})]},t.id)}))})]})})})})]})}}]),c}(n.Component));var be=ce((function(e){return Object(s.jsxs)("div",{className:"row",style:{alignItems:"center",justifyContent:"center",height:"50vh",marginTop:"15vh"},children:[Object(s.jsx)("h1",{className:"jumbotron-fluid bg-transparent text-center col-12",children:"Menu"}),Object(s.jsx)("div",{className:"col-md-8 pt-4 shadow shadow-dark   link emp-menu",style:{height:"80px"},onClick:function(){return e.history.push("/employee/dashboard/".concat(Q))},children:Object(s.jsxs)("h5",{children:["Bar ",Object(s.jsx)("i",{className:"float-right fas fa-glass-cheers"})]})}),Object(s.jsx)("div",{className:"col-md-8 pt-4 shadow shadow-dark   link emp-menu",style:{height:"80px"},onClick:function(){return e.history.push("/employee/dashboard/".concat(J))},children:Object(s.jsxs)("h5",{children:["Restaurant ",Object(s.jsx)("i",{class:"float-right fas fa-utensils"})]})}),Object(s.jsx)("div",{className:"col-md-8 pt-4 shadow shadow-dark   link emp-menu",style:{height:"80px"},onClick:function(){return e.history.push("/employee/sales")},children:Object(s.jsxs)("h5",{children:["Sale History ",Object(s.jsx)("i",{class:"float-right fas fa-history"})]})})]})}));var he=ce((function(e){var t=A("currentUser"),c=Object(n.useState)([]),a=Object(U.a)(c,2),r=a[0],i=a[1];return Object(n.useEffect)((function(){var e=I("sales",{sold_by:t.id});Object(O.trackPromise)(C(y(N(e)).then((function(e){var t=e.data.sales;i(t)}))))}),[]),Object(s.jsxs)("div",{className:"container-fluid ml-2 mr-2",children:[Object(s.jsxs)("h4",{className:"text-center",children:["Sales for ",t.firstname]}),Object(s.jsx)("div",{className:"row justify-content-center",children:Object(s.jsx)("div",{className:"table-responsive",children:Object(s.jsxs)("table",{className:"table table-bordered table-hover",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"#"}),Object(s.jsx)("th",{children:"Date"}),Object(s.jsx)("th",{children:"Number of goods"}),Object(s.jsx)("th",{children:"Total amount"}),Object(s.jsx)("th",{children:"Payment Type"}),Object(s.jsx)("th",{children:"Customer Pay"}),Object(s.jsx)("th",{children:"Customer Change"}),Object(s.jsx)("th",{children:"Action"})]})}),Object(s.jsx)("tbody",{children:r.map((function(t,c){return Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:++c}),Object(s.jsx)("td",{children:E(t.created_at)}),Object(s.jsx)("td",{children:t.goods_count}),Object(s.jsx)("td",{children:t.total}),Object(s.jsx)("td",{children:t.payment_method}),Object(s.jsx)("td",{children:F(t.customer_pay,1)}),Object(s.jsx)("td",{children:F(t.customer_change,1)}),Object(s.jsx)("td",{children:Object(s.jsxs)("button",{className:"btn btn-secondary",onClick:function(){return e.history.push("/employee/sales/view/".concat(t.id))},children:[Object(s.jsx)("i",{className:"fa fa-eye mr-2"}),"view"]})})]},t.id)}))})]})})})]})}));var me=ce((function(e){var t=Object(n.useState)({}),c=Object(U.a)(t,2),a=c[0],r=c[1],i=Object(n.useState)([]),l=Object(U.a)(i,2),d=l[0],o=l[1],j=e.match.params.id;return Object(n.useEffect)((function(){var e=I("sales/history",{sale_id:j});Object(O.trackPromise)(C(y(N(e)).then((function(e){var t=e.data.sale[0],c=e.data.history;r(t),o(c)}))))}),[]),Object(s.jsxs)("div",{className:"container-fluid p-2 ml-2 mr-2",children:[Object(s.jsx)("h4",{className:"text-center",children:"Sale Details"}),Object(s.jsxs)("div",{className:"p-2 col-12 row",children:[Object(s.jsxs)("div",{className:"col",children:["Sold By : ","".concat(a.firstname," ").concat(a.lastname)]}),Object(s.jsxs)("div",{className:"col",children:["Date: ",E(a.created_at)]}),Object(s.jsxs)("div",{className:"col",children:["Goods: ",d.length]}),Object(s.jsxs)("div",{className:"col",children:["Total: ",a.total]})]}),Object(s.jsx)("div",{className:"row justify-content-center pr-2 pl-2",children:Object(s.jsx)("div",{className:"table-responsive",children:Object(s.jsxs)("table",{className:"table table-bordered table-hover",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"#"}),Object(s.jsx)("th",{children:"Name"}),Object(s.jsx)("th",{children:"Category"}),Object(s.jsx)("th",{children:"Quantity"}),Object(s.jsx)("th",{children:"Measure"}),Object(s.jsx)("th",{children:"Amount"})]})}),Object(s.jsx)("tbody",{children:d.map((function(e,t){return Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:++t}),Object(s.jsx)("td",{children:e.good_name}),Object(s.jsx)("td",{children:e.category_name}),Object(s.jsx)("td",{children:e.quantity}),Object(s.jsx)("td",{children:e.measure}),Object(s.jsx)("td",{children:e.price})]},e.id)}))})]})})})]})}));var ue=R((function(e){var t=Object(n.useState)({}),c=Object(U.a)(t,2),a=c[0],r=c[1],i=Object(n.useState)([]),l=Object(U.a)(i,2),d=l[0],o=l[1],j=e.match.params.id;return Object(n.useEffect)((function(){var e=I("sales/history",{sale_id:j});Object(O.trackPromise)(C(y(N(e)).then((function(e){var t=e.data.sale[0],c=e.data.history;r(t),o(c)}))))}),[]),Object(s.jsxs)("div",{className:"mt-3",children:[Object(s.jsx)("h4",{className:"text-center",children:"Sale Details"}),Object(s.jsxs)("div",{className:"p-2 col-12 row",children:[Object(s.jsxs)("div",{className:"col",children:["Sold By : ","".concat(a.firstname," ").concat(a.lastname)]}),Object(s.jsxs)("div",{className:"col",children:["Date: ",E(a.created_at)]}),Object(s.jsxs)("div",{className:"col",children:["Goods: ",d.length]}),Object(s.jsxs)("div",{className:"col",children:["Total: ",a.total]})]}),Object(s.jsx)("div",{className:"row justify-content-center pr-2 pl-2",children:Object(s.jsx)("div",{className:"table-responsive",children:Object(s.jsxs)("table",{className:"table table-bordered table-hover",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"#"}),Object(s.jsx)("th",{children:"Name"}),Object(s.jsx)("th",{children:"Category"}),Object(s.jsx)("th",{children:"Quantity"}),Object(s.jsx)("th",{children:"Measure"}),Object(s.jsx)("th",{children:"Amount"})]})}),Object(s.jsx)("tbody",{children:d.map((function(e,t){return Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:++t}),Object(s.jsx)("td",{children:e.good_name}),Object(s.jsx)("td",{children:e.category_name}),Object(s.jsx)("td",{children:e.quantity}),Object(s.jsx)("td",{children:e.measure}),Object(s.jsx)("td",{children:e.price})]},e.id)}))})]})})})]})})),Oe=R(function(e){Object(m.a)(c,e);var t=Object(u.a)(c);function c(e){var s;return Object(b.a)(this,c),(s=t.call(this,e)).state={sales:[]},s}return Object(h.a)(c,[{key:"componentDidMount",value:function(){var e=this;Object(O.trackPromise)(C(y(N("sales")).then((function(t){var c=t.data.sales;e.setState({sales:c})}))))}},{key:"render",value:function(){var e=this,t=this.state.sales;return Object(s.jsxs)("div",{className:"mt-3",children:[Object(s.jsx)("h2",{children:" Sales"}),Object(s.jsx)("div",{className:"table-responsive",children:Object(s.jsxs)("table",{className:"table table-striped table-sm",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"#"}),Object(s.jsx)("th",{children:"Sold By"}),Object(s.jsx)("th",{children:"Payment Method"}),Object(s.jsx)("th",{children:"Number"}),Object(s.jsx)("th",{children:"Amount"}),Object(s.jsx)("th",{children:"Customer Pay"}),Object(s.jsx)("th",{children:"Customer Change"}),Object(s.jsx)("th",{children:"Date"}),Object(s.jsx)("th",{children:"Action"})]})}),Object(s.jsx)("tbody",{children:t.map((function(t,c){return Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:++c}),Object(s.jsx)("td",{children:t.firstname+" "+t.lastname}),Object(s.jsx)("td",{children:t.payment_method}),Object(s.jsx)("td",{children:t.goods_count}),Object(s.jsx)("td",{children:t.total}),Object(s.jsx)("td",{children:F(t.customer_pay,1)}),Object(s.jsx)("td",{children:F(t.customer_change,1)}),Object(s.jsx)("td",{children:E(t.created_at)}),Object(s.jsx)("td",{children:Object(s.jsxs)("button",{className:"btn btn-secondary",onClick:function(){return e.props.history.push("/admin/sales/view/"+t.id)},children:[Object(s.jsx)("i",{className:"fa fa-eye mr-2"}),"View"]})})]},t.id)}))})]})})]})}}]),c}(n.Component));c(87);var xe=function(){return Object(O.usePromiseTracker)().promiseInProgress?Object(s.jsx)("div",{className:"loader-container",children:Object(s.jsx)("div",{class:"loader",children:Object(s.jsx)("span",{children:"Loading..."})})}):Object(s.jsx)(s.Fragment,{})};var pe=function(){return Object(s.jsxs)(d.a,{children:[Object(s.jsx)(xe,{}),Object(s.jsx)(j.a,{hideProgressBar:!0}),Object(s.jsxs)(o.d,{children:[Object(s.jsx)(o.b,{path:"/login",render:function(e){return Object(s.jsx)(re,Object(l.a)({},e))}}),Object(s.jsx)(o.b,{exact:!0,path:"/employee",render:function(e){return Object(s.jsx)(be,Object(l.a)({},e))}}),Object(s.jsx)(o.b,{exact:!0,path:"/employee/dashboard/:id",render:function(e){return Object(s.jsx)(se,Object(l.a)({},e))}}),Object(s.jsx)(o.b,{exact:!0,path:"/employee/sales",render:function(e){return Object(s.jsx)(he,Object(l.a)({},e))}}),Object(s.jsx)(o.b,{exact:!0,path:"/employee/sales/view/:id",render:function(e){return Object(s.jsx)(me,Object(l.a)({},e))}}),Object(s.jsx)(o.b,{exact:!0,path:"/admin",render:function(e){return Object(s.jsx)(K,Object(l.a)({},e))}}),Object(s.jsx)(o.b,{exact:!0,path:"admin/dashboard",render:function(e){return Object(s.jsx)(K,Object(l.a)({},e))}}),Object(s.jsx)(o.b,{exact:!0,path:"/admin/sales/view/:id",render:function(e){return Object(s.jsx)(ue,Object(l.a)({},e))}}),Object(s.jsx)(o.b,{exact:!0,path:"/admin/sales",render:function(e){return Object(s.jsx)(Oe,Object(l.a)({},e))}}),Object(s.jsx)(o.b,{exact:!0,path:"/admin/admins",render:function(e){return Object(s.jsx)(B,Object(l.a)({},e))}}),Object(s.jsx)(o.b,{exact:!0,path:"/admin/employees",render:function(e){return Object(s.jsx)(ae,Object(l.a)({},e))}}),Object(s.jsx)(o.b,{exact:!0,path:"/admin/categories",render:function(e){return Object(s.jsx)(le,Object(l.a)({},e))}}),Object(s.jsx)(o.b,{exact:!0,path:"/admin/products/:id",render:function(e){return Object(s.jsx)(oe,Object(l.a)({},e))}}),Object(s.jsx)(o.b,{exact:!0,path:"/admin/products/:id/pricing",render:function(e){return Object(s.jsx)(je,Object(l.a)({},e))}}),Object(s.jsx)(o.a,{exact:!0,to:"/login"})]})]})};var fe=function(){return Object(s.jsx)(pe,{})},ve=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,93)).then((function(t){var c=t.getCLS,s=t.getFID,n=t.getFCP,a=t.getLCP,r=t.getTTFB;c(e),s(e),n(e),a(e),r(e)}))},ge=c(26),Ne=c.n(ge),ye=c(27);c(88),c(89);window.$=Ne.a,window.Popper=ye.default,i.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(fe,{})}),document.getElementById("root")),ve()}},[[90,1,2]]]);
//# sourceMappingURL=main.09e5d3ea.chunk.js.map