{"version":3,"sources":["components/table-icon/table-icon.jsx","services/api-handle.js","services/api-const.js","services/utility.js","pages/admin/header.jsx","pages/admin/sidebar.jsx","pages/admin/with-template.jsx","components/modal/modal.jsx","pages/admin/admins/add-admin.jsx","pages/admin/admins/admins.jsx","components/tooltip/tooltip-element.jsx","pages/admin/dashboard/admin-dashboard.jsx","components/category/category.jsx","services/constants.js","components/header/header.jsx","components/process-transaction/process-transaction.jsx","components/receipt/receipt.jsx","components/receipt/receipt-print.jsx","pages/employee/with-employee-validation.jsx","pages/employee/employee-dashboard.jsx","pages/admin/employees/add-employee.jsx","pages/admin/employees/employees.jsx","pages/login/login.jsx","pages/admin/category/categories.jsx","pages/admin/goods/goods.jsx","pages/admin/pricing/pricing.jsx","pages/employee/employee-welcome.jsx","pages/employee/employee-sales.jsx","pages/employee/employee-sale-detai.jsx","pages/admin/sales/sale-detail.jsx","pages/admin/sales/sales.jsx","components/loader/loader.jsx","routes.js","App.js","reportWebVitals.js","index.js"],"names":["TableIcon","props","children","onClick","className","API","axios","create","baseURL","showNotification","title","color","position","toastId","toast","success","warn","error","sendPostRequest","url","params","post","sendGetRequest","get","handleSuccess","promiseFunc","successMessage","then","res","handleError","catch","err","response","message","data","errors","key","forEach","objetPropEmpty","obj","console","log","getDateTimeAgo","dateStr","moment","fromNow","getFromLocal","name","JSON","parse","localStorage","getItem","removeFromLocalStorage","removeItem","formatDate","date","isValid","format","formatUrl","urlParams","args","arg","substr","length","getFormattedAmount","amount","quantity","getFormattedMeasure","unit","measure","Header","to","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","history","push","SideBar","id","data-feather","withTemplate","WrappedComponent","currentUser","isAdmin","this","role","React","Component","Modal","AddAdmin","handleClose","useState","firstname","lastname","email","phone","password","admin","setAdmin","updateAdminProp","htmlFor","placeholder","value","onChange","e","target","confirm_password","trackPromise","updateShowAdmin","showAddAdmin","setState","onDelete","fetchAdmins","state","admins","map","index","updated_at","ToolTipElement","tooltip","useEffect","$","data-placement","updateData","sales","handleDelete","updated_by","sale_id","sale","payment_method","goods_count","total","customer_pay","customer_change","created_at","status","Item","item","onItemClick","Category","category","goods","good","user_types","places","payment_methods","printer_widths","place","parseInt","aria-labelledby","ProcessTransaction","selectedItem","handleAddToCart","pricings","setPricings","count","setCount","selectedForCart","setSelectedForCart","itemId","pricingItem","toSend","price","removeFromCart","useOnlinePrice","itemPrice","setItemPrice","online_price","Receipt","cartItems","handleSale","payObj","setUseOnlinePrice","getRawTotalAmount","getTotalAmount","transaction_code","receiptWidth","payment","setPayment","useOnline","method","methods","removeFromArray","arr","filter","it","includes","checkIfUseOnline","parseFloat","continueToPrint","ReceiptPrint","width","setCartItems","cart_items","onAfterPrint","goBack","style","maxWidth","fontWeight","colSpan","i","window","print","withEmployeeValidation","handleChangeCategory","selectedCategoryId","getFilteredCategories","handleSearch","q","findIndex","cItem","splice","addSaleUrl","addHistoryUrl","sold_by","sold_goods","sold_by_text","saleResp","quantities","measures","prices","match","showPrint","categories","filteredCategories","saleId","receiptRef","createRef","getCategories","printReceipt","aria-describedby","AddEmployee","updateEmpProp","showAddEmployee","employee","fetchEmployees","employees","emp","Login","updatePropChange","user","handleLogin","redirectUrl","level","toStoreInLocal","setItem","stringify","AddCategory","setCategory","updateShowAddCategory","showAddCategory","fetchCategories","AddProduct","product","setProduct","updateShowAddProduct","showAddProduct","fetchProducts","products","categoryId","selectedPricing","addPricing","goodId","getPricings","showEditPricing","pricing","alignItems","justifyContent","height","marginTop","setSales","setSale","setHistory","good_name","category_name","Loader","usePromiseTracker","promiseInProgress","Routes","query","URLSearchParams","useLocation","search","hideProgressBar","path","render","exact","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","Popper","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e05d5ea6.chunk.js","sourcesContent":["import React from 'react';\r\nimport './table-icon.scss';\r\n\r\nfunction TableIcon(props) {\r\n  const {children, onClick} = props;\r\n  return (\r\n    <div\r\n      className='icon-container p-2 link rounded-circle shadow shadow-secondary text-center'\r\n      onClick={onClick}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TableIcon;\r\n","import axios from 'axios';\r\nimport {toast} from 'react-toastify';\r\nimport {API_URL} from './api-const';\r\nlet API = axios.create({\r\n  baseURL: API_URL,\r\n});\r\n\r\nexport function showNotification(title, color, position, toastId) {\r\n  if (color === 'success') {\r\n    toast.success(title, {position: position || 'top-right', toastId});\r\n  } else if (color === 'warning') {\r\n    toast.warn(title, {position: position || 'top-right', toastId});\r\n  } else {\r\n    toast.error(title, {position: position || 'top-right', toastId});\r\n  }\r\n}\r\nexport function sendPostRequest(url, params) {\r\n  return API.post(url, params);\r\n}\r\n\r\nexport function sendGetRequest(url) {\r\n  return API.get(url);\r\n}\r\n\r\nexport function sendFormData(url, formData) {\r\n  return API({\r\n    url: url,\r\n    method: 'POST',\r\n    headers: {\r\n      'content-type': 'multipart/form-data',\r\n      accept: 'application/json',\r\n    },\r\n    data: formData,\r\n  });\r\n}\r\n\r\nexport function handleSuccess(promiseFunc, successMessage) {\r\n  return promiseFunc.then((res) => {\r\n    if (showNotification) {\r\n      showNotification(successMessage, 'success');\r\n    }\r\n    return res;\r\n  });\r\n}\r\n\r\nexport function handleError(promiseFunc) {\r\n  return promiseFunc.catch((err) => {\r\n    if (err.response) {\r\n      let message = err.response.data;\r\n\r\n      if (message) {\r\n        if (message.errors) {\r\n          for (let key in message.errors) {\r\n            let error = message.errors[key];\r\n\r\n            error.forEach((err) => showNotification(err, 'danger'));\r\n          }\r\n        } else {\r\n          showNotification(message.message, 'danger');\r\n        }\r\n      } else {\r\n        showNotification('Database Error', 'danger');\r\n      }\r\n    } else {\r\n      showNotification('You are offline', 'warning');\r\n    }\r\n\r\n    return err;\r\n  });\r\n}\r\n","export const API_URL = 'https://posbackend.sk.co.ke/api';\r\n// export const API_URL = 'http://127.0.0.1:8000/api/';\r\n","import moment from 'moment';\r\n\r\nexport function objetPropEmpty(obj) {\r\n  for (let key in obj) {\r\n    console.log(obj[key]);\r\n    if (!obj[key]) {\r\n      return true;\r\n    }\r\n  }\r\n  return false;\r\n}\r\n\r\nexport function getDateTimeAgo(dateStr) {\r\n  if (!dateStr) {\r\n    return '_';\r\n  }\r\n  let date = moment(dateStr);\r\n  // date.add(3, 'hours');\r\n  return date.fromNow();\r\n}\r\n\r\nexport function storeUserLocally(name, toStoreInLocal) {\r\n  localStorage.setItem(name, JSON.stringify(toStoreInLocal));\r\n}\r\nexport function getFromLocal(name) {\r\n  let fromLocalStorage = JSON.parse(\r\n    localStorage.getItem(name ? name : 'userSelection')\r\n  );\r\n  return fromLocalStorage;\r\n}\r\nexport function removeFromLocalStorage(name) {\r\n  localStorage.removeItem(name);\r\n}\r\n\r\n//function to format the date\r\nexport function formatDate(dateStr) {\r\n  if (!dateStr) {\r\n    return '_';\r\n  }\r\n\r\n  let date = moment(dateStr);\r\n  //return an empty string if the date is invalid\r\n  if (!date.isValid()) {\r\n    return '_';\r\n  }\r\n  // date.add(3, 'hours');\r\n\r\n  //format to 29/06/2020 12:57 pm\r\n  return date.format('DD/MM/YYYY h:mm a');\r\n}\r\n\r\nexport function formatUrl(url, ...args) {\r\n  let urlParams = '';\r\n  args.forEach((arg) => {\r\n    for (let key in arg) {\r\n      if (arg[key]) {\r\n        urlParams = `${urlParams}${key}=${arg[key]}&`;\r\n      }\r\n      if (arg[key] === 0) {\r\n        urlParams = `${urlParams}${key}=${arg[key]}&`; //allow for value=0\r\n      }\r\n    }\r\n  });\r\n  urlParams = urlParams.substr(0, urlParams.length - 1); //remove the & at the end\r\n\r\n  return `${url}?${urlParams}`;\r\n}\r\n\r\nexport function getFormattedAmount(amount, quantity) {\r\n  return `Ksh ${amount * quantity}`;\r\n}\r\n\r\nexport function getFormattedMeasure(unit, measure) {\r\n  if (unit === 'count') {\r\n    return measure;\r\n  }\r\n  return `${measure} ${unit}`;\r\n}\r\n","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {removeFromLocalStorage} from '../../services/utility';\r\n\r\nexport default function Header(props) {\r\n  const handleLogout = () => {\r\n    removeFromLocalStorage('currentUser');\r\n    props.history.push('/');\r\n  };\r\n  return (\r\n    <nav className='navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0 shadow'>\r\n      <Link className='navbar-brand col-md-3 col-lg-2 mr-0 px-3' to='/admin'>\r\n        Scratch Kitchen\r\n      </Link>\r\n      <button\r\n        className='navbar-toggler position-absolute d-md-none collapsed'\r\n        type='button'\r\n        data-toggle='collapse'\r\n        data-target='#sidebarMenu'\r\n        aria-controls='sidebarMenu'\r\n        aria-expanded='false'\r\n        aria-label='Toggle navigation'\r\n      >\r\n        <span className='navbar-toggler-icon'></span>\r\n      </button>\r\n      <ul className='navbar-nav px-3'>\r\n        <li className='nav-item text-nowrap'>\r\n          <button className='nav-link link-button' onClick={handleLogout}>\r\n            Sign out\r\n          </button>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\n\r\nexport default function SideBar() {\r\n  return (\r\n    <nav\r\n      id='sidebarMenu'\r\n      className='col-md-3 col-lg-2 d-md-block bg-light sidebar collapse'\r\n    >\r\n      <div className='sidebar-sticky pt-3'>\r\n        <ul className='nav flex-column'>\r\n          <li className='nav-item'>\r\n            <Link to={'/admin'} className='nav-link  '>\r\n              <span data-feather='home'></span>\r\n              Dashboard <span className='sr-only'>(current)</span>\r\n            </Link>\r\n          </li>\r\n          <li className='nav-item'>\r\n            <Link to={'/admin/admins'} className='nav-link'>\r\n              <span data-feather='file'></span>\r\n              Admins\r\n            </Link>\r\n          </li>\r\n          <li className='nav-item'>\r\n            <Link to={'/admin/employees'} className='nav-link'>\r\n              <span data-feather='shopping-cart'></span>\r\n              Employees\r\n            </Link>\r\n          </li>\r\n          <li className='nav-item'>\r\n            <Link to={'/admin/categories'} className='nav-link'>\r\n              <span data-feather='users'></span>\r\n              Categories\r\n            </Link>\r\n          </li>\r\n\r\n          <li className='nav-item'>\r\n            <Link to={'/admin/sales'} className='nav-link'>\r\n              <span data-feather='layers'></span>\r\n              Sale History\r\n            </Link>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport Header from './header';\r\nimport SideBar from './sidebar';\r\nimport './dashboard/dashboard.css';\r\nimport {getFromLocal} from '../../services/utility';\r\n\r\nexport default function withTemplate(WrappedComponent) {\r\n  return class WithTemplate extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n      let currentUser = getFromLocal('currentUser');\r\n      if (!currentUser) {\r\n        this.props.history.push('/');\r\n      } else if (!currentUser.isAdmin) {\r\n        this.props.history.push('/');\r\n      }\r\n    }\r\n    render() {\r\n      return (\r\n        <>\r\n          <Header {...this.props} />\r\n          <div className='container-fluid'>\r\n            <div className='row'>\r\n              <SideBar />\r\n\r\n              <main\r\n                role='main'\r\n                className='col-md-9 ml-sm-auto col-lg-10 px-md-4'\r\n              >\r\n                <WrappedComponent {...this.props} />\r\n              </main>\r\n            </div>\r\n          </div>\r\n        </>\r\n      );\r\n    }\r\n  };\r\n}\r\n","import React from 'react';\r\nimport './modal.scss';\r\n\r\nfunction Modal(props) {\r\n  const {children} = props;\r\n  return (\r\n    <div className='mymodal animate__animated animate__bounceInUp'>\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Modal;\r\n","import React, {useState} from 'react';\r\nimport {trackPromise} from 'react-promise-tracker';\r\nimport {toast} from 'react-toastify';\r\nimport Modal from '../../../components/modal/modal';\r\nimport {\r\n  handleError,\r\n  handleSuccess,\r\n  sendPostRequest,\r\n} from '../../../services/api-handle';\r\nimport {objetPropEmpty} from '../../../services/utility';\r\n\r\nfunction AddAdmin(props) {\r\n  const {handleClose} = props;\r\n  const [admin, setAdmin] = useState({\r\n    firstname: '',\r\n    lastname: '',\r\n    email: '',\r\n    phone: '',\r\n    password: '',\r\n  });\r\n\r\n  const updateAdminProp = (obj) => {\r\n    setAdmin({...admin, ...obj});\r\n  };\r\n\r\n  const saveAdmin = () => {\r\n    if (admin.password !== admin.confirm_password) {\r\n      toast.error('The two passwords do not match');\r\n    } else if (objetPropEmpty(admin)) {\r\n      toast.error('Do not leave fields empty');\r\n    } else {\r\n      trackPromise(\r\n        handleError(\r\n          handleSuccess(\r\n            sendPostRequest('admins', admin),\r\n            'Admin added successfully'\r\n          ).then((res) => {\r\n            handleClose();\r\n          })\r\n        )\r\n      );\r\n    }\r\n  };\r\n  return (\r\n    <Modal>\r\n      <div className=''>\r\n        <div className='modal-header'>\r\n          <div className='h4 text-center'>New Admin</div>\r\n        </div>\r\n        <div className='modal-body'>\r\n          <div className='form-group'>\r\n            <label htmlFor='firstname'>First name</label>\r\n            <input\r\n              type='text'\r\n              className='form-control'\r\n              placeholder='Enter firstname'\r\n              value={admin.firstname}\r\n              onChange={(e) => updateAdminProp({firstname: e.target.value})}\r\n            />\r\n          </div>\r\n          <div className='form-group'>\r\n            <label htmlFor='firstname'>Last name</label>\r\n            <input\r\n              type='text'\r\n              className='form-control'\r\n              placeholder='Enter lastname'\r\n              value={admin.lastname}\r\n              onChange={(e) => updateAdminProp({lastname: e.target.value})}\r\n            />\r\n          </div>\r\n          <div className='form-group'>\r\n            <label htmlFor='firstname'>Phone Number</label>\r\n            <input\r\n              type='text'\r\n              className='form-control'\r\n              placeholder='Enter phone number'\r\n              value={admin.phone}\r\n              onChange={(e) => updateAdminProp({phone: e.target.value})}\r\n            />\r\n          </div>\r\n          <div className='form-group'>\r\n            <label htmlFor='firstname'>Email</label>\r\n            <input\r\n              type='text'\r\n              className='form-control'\r\n              placeholder='Enter email'\r\n              value={admin.email}\r\n              onChange={(e) => updateAdminProp({email: e.target.value})}\r\n            />\r\n          </div>\r\n          <div className='form-group'>\r\n            <label htmlFor='firstname'>Password</label>\r\n            <input\r\n              type='password'\r\n              className='form-control'\r\n              placeholder='Enter password'\r\n              value={admin.password}\r\n              onChange={(e) => updateAdminProp({password: e.target.value})}\r\n            />\r\n          </div>\r\n          <div className='form-group'>\r\n            <label htmlFor='firstname'>Confirm Password</label>\r\n            <input\r\n              type='text'\r\n              className='form-control'\r\n              placeholder='Confirm password'\r\n              value={admin.confirm_password}\r\n              onChange={(e) =>\r\n                updateAdminProp({confirm_password: e.target.value})\r\n              }\r\n            />\r\n          </div>\r\n\r\n          <div className='mt-2 mb-2 row justify-content-between pl-2 pr-2'>\r\n            <button className='btn btn-secondary col-4' onClick={handleClose}>\r\n              Cancel\r\n            </button>\r\n            <button className='btn btn-primary col-4' onClick={saveAdmin}>\r\n              Save Admin\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nexport default AddAdmin;\r\n","import React, {Component} from 'react';\r\nimport {trackPromise} from 'react-promise-tracker';\r\nimport TableIcon from '../../../components/table-icon/table-icon';\r\nimport {\r\n  handleError,\r\n  handleSuccess,\r\n  sendGetRequest,\r\n  sendPostRequest,\r\n} from '../../../services/api-handle';\r\nimport {formatDate, getDateTimeAgo} from '../../../services/utility';\r\nimport withTemplate from '../with-template';\r\nimport AddAdmin from './add-admin';\r\n\r\nclass Admins extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      showAddAdmin: false,\r\n      admins: [],\r\n    };\r\n  }\r\n  fetchAdmins() {\r\n    trackPromise(\r\n      handleError(\r\n        handleSuccess(sendGetRequest('admins')).then((res) => {\r\n          let admins = res.data;\r\n          this.setState({admins});\r\n        })\r\n      )\r\n    );\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetchAdmins();\r\n  }\r\n\r\n  updateShowAdmin = (showAddAdmin) => {\r\n    this.setState({showAddAdmin});\r\n  };\r\n\r\n  onDelete = (admin) => {\r\n    trackPromise(\r\n      handleError(\r\n        handleSuccess(\r\n          sendPostRequest(`admins/${admin.id}/delete`),\r\n          'Admin deleted successfully'\r\n        ).then((res) => this.fetchAdmins())\r\n      )\r\n    );\r\n  };\r\n  render() {\r\n    const {showAddAdmin, admins} = this.state;\r\n    return (\r\n      <div className='mt-3'>\r\n        {showAddAdmin && (\r\n          <AddAdmin\r\n            handleClose={() => {\r\n              this.updateShowAdmin(false);\r\n              this.fetchAdmins();\r\n            }}\r\n          />\r\n        )}\r\n\r\n        <h2>Admins </h2>\r\n        <div className='w-100 row justify-content-end mb-2'>\r\n          <button\r\n            className='btn btn-info'\r\n            onClick={() => this.updateShowAdmin(true)}\r\n          >\r\n            <i className='fa fa-plus mr-2'></i>Add New\r\n          </button>\r\n        </div>\r\n        <div className='table-responsive'>\r\n          <table className='table table-striped table-sm'>\r\n            <thead>\r\n              <tr>\r\n                <th>#</th>\r\n                <th>Name</th>\r\n                <th>Phone Number</th>\r\n                <th>Email</th>\r\n                <th>Updated</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {admins.map((admin, index) => (\r\n                <tr key={admin.id}>\r\n                  <td>{++index}</td>\r\n                  <td>{admin.firstname + ' ' + admin.lastname}</td>\r\n                  <td>{admin.phone}</td>\r\n                  <td>{admin.email}</td>\r\n                  <td>\r\n                    <span title={formatDate(admin.updated_at)}>\r\n                      {getDateTimeAgo(admin.updated_at)}\r\n                    </span>\r\n                  </td>\r\n                  <td>\r\n                    <TableIcon onClick={() => this.onDelete(admin)}>\r\n                      <i className='fa fa-trash'></i>\r\n                    </TableIcon>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withTemplate(Admins);\r\n","import React, {useEffect} from 'react';\r\nimport $ from 'jquery';\r\n\r\nexport default function ToolTipElement(props) {\r\n  const {children, tooltip} = props;\r\n  useEffect(() => {\r\n    $('[data-toggle=\"tooltip\"]').tooltip();\r\n  }, []);\r\n  return (\r\n    <div\r\n      className='link w-50 '\r\n      data-toggle='tooltip'\r\n      data-placement='bottom'\r\n      title={tooltip}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n","import React, {Component} from 'react';\r\nimport {trackPromise} from 'react-promise-tracker';\r\nimport {Link} from 'react-router-dom';\r\nimport ToolTipElement from '../../../components/tooltip/tooltip-element';\r\nimport {\r\n  handleError,\r\n  handleSuccess,\r\n  sendGetRequest,\r\n  sendPostRequest,\r\n} from '../../../services/api-handle';\r\nimport {\r\n  formatDate,\r\n  getFormattedAmount,\r\n  getFromLocal,\r\n} from '../../../services/utility';\r\nimport withTemplate from '../with-template';\r\n\r\nclass AdminDashboard extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      sales: [],\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.updateData();\r\n  }\r\n  updateData = () => {\r\n    trackPromise(\r\n      handleError(\r\n        handleSuccess(sendGetRequest('sales')).then((res) => {\r\n          let sales = res.data.sales;\r\n          this.setState({sales});\r\n        })\r\n      )\r\n    );\r\n  };\r\n\r\n  handleDelete = (id) => {\r\n    let currentUser = getFromLocal('currentUser');\r\n    const updated_by = `${currentUser.firstname} ${currentUser.lastname}`;\r\n\r\n    trackPromise(\r\n      handleError(\r\n        handleSuccess(\r\n          sendPostRequest(`sales/${id}/delete`, {sale_id: id, updated_by}),\r\n          'Sale deleted successfully'\r\n        ).then((res) => {\r\n          this.updateData();\r\n        })\r\n      )\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const {sales} = this.state;\r\n    return (\r\n      <div className='mt-3'>\r\n        <h2>\r\n          Latest Sales\r\n          <small className='float-right'>\r\n            <span className='badge badge-success'>Total- {sales.length}</span>\r\n          </small>\r\n        </h2>\r\n        <div className='table-responsive'>\r\n          <table className='table table-striped table-sm'>\r\n            <thead>\r\n              <tr>\r\n                <th>#</th>\r\n                <th>Sold By</th>\r\n                <th>Payment Method</th>\r\n                <th>Number</th>\r\n                <th>Amount</th>\r\n                <th>\r\n                  Customer Pay\r\n                  <br />\r\n                  Customer Change\r\n                </th>\r\n                <th>Date</th>\r\n                <th>Status</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {sales.map(\r\n                (sale, index) =>\r\n                  index < 10 && (\r\n                    <tr key={sale.id}>\r\n                      <td>{++index}</td>\r\n                      <td>\r\n                        <Link to={'/admin/sales/view/' + sale.id}>\r\n                          {sale.firstname + ' ' + sale.lastname}\r\n                        </Link>\r\n                      </td>\r\n                      <td>{sale.payment_method}</td>\r\n                      <td>{sale.goods_count}</td>\r\n                      <td>{sale.total}</td>\r\n                      <td>\r\n                        {getFormattedAmount(sale.customer_pay, 1)}\r\n                        <br />\r\n                        {getFormattedAmount(sale.customer_change, 1)}\r\n                      </td>\r\n                      <td>{formatDate(sale.created_at)}</td>\r\n                      <td>\r\n                        {sale.status === 1 && (\r\n                          <ToolTipElement\r\n                            tooltip={`Deleted by ${\r\n                              sale.updated_by\r\n                            } at ${formatDate(sale.updated_at)}`}\r\n                          >\r\n                            <div className='badge badge-danger'>Deleted</div>\r\n                          </ToolTipElement>\r\n                        )}\r\n                        {sale.status === 2 && (\r\n                          <ToolTipElement\r\n                            tooltip={`Edited by ${\r\n                              sale.updated_by\r\n                            } at ${formatDate(sale.updated_at)}`}\r\n                          >\r\n                            <div className='badge badge-success'>Edited</div>\r\n                          </ToolTipElement>\r\n                        )}\r\n                      </td>\r\n                    </tr>\r\n                  )\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withTemplate(AdminDashboard);\r\n","import React from 'react';\r\nimport './category.scss';\r\n\r\nfunction Category(props) {\r\n  const {category, onItemClick} = props;\r\n\r\n  return (\r\n    <div className='category shadow shadow-secondary p-2 mb-2'>\r\n      <h5 className='text-center text-uppercase mb-1'>{category.name}</h5>\r\n      {category.goods.map((good) => (\r\n        <Item item={good} onItemClick={onItemClick} />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Item(props) {\r\n  const {item, onItemClick} = props;\r\n  return (\r\n    <div\r\n      className='item p-2 link mb-2'\r\n      title='Click to add'\r\n      onClick={() => onItemClick(item)}\r\n    >\r\n      {item.name}\r\n      <div className='float-right'>\r\n        <i className='fa fa-plus'></i>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Category;\r\n","export const user_types = {\r\n  EMPLOYEE: 2,\r\n  ADMIN: 1,\r\n};\r\n\r\nexport const places = {\r\n  RESTAURANT: 1,\r\n  BAR: 2,\r\n};\r\n\r\nexport const payment_methods = [\r\n  'Cash',\r\n  'Mpesa',\r\n  'Card',\r\n  'Glovo',\r\n  'Jumia',\r\n  'Uber Eats',\r\n  'Little Cab',\r\n];\r\n\r\nexport const printer_widths = {\r\n  KITCHEN_PRINTER: '500px',\r\n  FUSION_PRINTER: '300px',\r\n};\r\n","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {places} from '../../services/constants';\r\nimport './header.scss';\r\n\r\nfunction Header(props) {\r\n  const {place} = props;\r\n\r\n  return (\r\n    <div className='header w-100'>\r\n      <div className='float-left pl-3 '>\r\n        {parseInt(place) === places.BAR ? (\r\n          <i className='fas fa-glass-cheers'></i>\r\n        ) : (\r\n          <i className='fas fa-utensils'></i>\r\n        )}\r\n      </div>\r\n      <div className='dropdown float-right pr-3 dropleft'>\r\n        <button\r\n          className='btn btn-light dropdown-toggle '\r\n          data-toggle='dropdown'\r\n        >\r\n          <i className='fas fa-bars'></i>\r\n        </button>\r\n        <div className='dropdown-menu ' aria-labelledby='dropdownMenuButton'>\r\n          <Link className='dropdown-item ' to={`/employee/sales/${place}`}>\r\n            Sales\r\n          </Link>\r\n          <Link className='dropdown-item ' to={'/employee'}>\r\n            Main Page\r\n          </Link>\r\n          <Link className='dropdown-item ' to={'/'}>\r\n            Logout\r\n          </Link>\r\n        </div>\r\n      </div>\r\n      <div className='h3 text-center'>\r\n        {parseInt(place) === places.BAR ? 'SCRATCH BAR' : 'SCRATCH RESTAURANT'}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React, {useEffect, useState} from 'react';\r\nimport {\r\n  handleError,\r\n  handleSuccess,\r\n  sendGetRequest,\r\n} from '../../services/api-handle';\r\nimport {getFromLocal} from '../../services/utility';\r\nimport './process-transaction.scss';\r\nimport {trackPromise} from 'react-promise-tracker';\r\n\r\nexport default function ProcessTransaction(props) {\r\n  const {selectedItem, handleAddToCart} = props;\r\n  const [pricings, setPricings] = useState([]);\r\n  const [count, setCount] = useState(0);\r\n  const [selectedForCart, setSelectedForCart] = useState({\r\n    quantity: 1,\r\n  });\r\n  const currentUser = getFromLocal('currentUser');\r\n\r\n  useEffect(() => {\r\n    let itemId = selectedItem.id;\r\n    if (itemId) {\r\n      trackPromise(\r\n        handleError(\r\n          handleSuccess(\r\n            sendGetRequest('pricings?good=' + itemId).then((res) => {\r\n              let pricings = res.data.pricings;\r\n              setPricings(pricings);\r\n              setCount(0);\r\n            })\r\n          )\r\n        )\r\n      );\r\n    }\r\n  }, [selectedItem.id]);\r\n\r\n  const getCurrentPricing = () => {\r\n    if (pricings.length) {\r\n      return pricings[count] || {};\r\n    }\r\n    return {};\r\n  };\r\n\r\n  const handleAddCart = () => {\r\n    let toSend = {\r\n      ...selectedForCart,\r\n      price: pricings[count],\r\n      ...selectedItem,\r\n    };\r\n    handleAddToCart(toSend);\r\n  };\r\n\r\n  let pricingItem = getCurrentPricing();\r\n  if (!selectedItem.name) {\r\n    return (\r\n      <div className='process-section bg-secondary pb-4'>\r\n        <h1 className='jumbotron jumbotron-fluid text-center bg-transparent  text-white '>\r\n          Hi there {currentUser.firstname},\r\n        </h1>\r\n        <p className='text-lead text-center text-warning'>\r\n          Please choose an item in the menu to proceed\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <div className='process-section'>\r\n      <h1 className='text-center text-dark text-uppercase mb-4'>\r\n        {selectedItem.name}\r\n      </h1>\r\n\r\n      {pricings.length ? (\r\n        <>\r\n          <h3 className='text-center text-dark text-uppercase mt-4'>\r\n            Ksh {pricingItem.amount}\r\n          </h3>\r\n\r\n          <div className='add-subtract row justify-content-center'>\r\n            {pricingItem.unit === 'count' ? null : (\r\n              <>\r\n                <button\r\n                  className='btn btn-light col-3'\r\n                  onClick={() => {\r\n                    if (count > 0) {\r\n                      setCount(count - 1);\r\n                    }\r\n                  }}\r\n                >\r\n                  <i className='fa fa-minus'></i>\r\n                </button>\r\n                <div className='h4 text-center p-2 ml-1 mr-1'>\r\n                  {pricingItem.measure + ' ' + pricingItem.unit}\r\n                </div>\r\n                <button\r\n                  className='btn btn-light col-3'\r\n                  onClick={() => {\r\n                    if (count < pricings.length - 1) {\r\n                      setCount(count + 1);\r\n                    }\r\n                  }}\r\n                >\r\n                  <i className='fa fa-plus'></i>\r\n                </button>\r\n              </>\r\n            )}\r\n\r\n            <div className='w-100'></div>\r\n\r\n            <div className='form-group col-2 mt-3'>\r\n              <label htmlFor=''>Quantity</label>\r\n              <input\r\n                type='\r\n            '\r\n                className='form-control '\r\n                value={selectedForCart.quantity}\r\n                onChange={(e) =>\r\n                  setSelectedForCart({\r\n                    ...selectedForCart,\r\n                    quantity: e.target.value,\r\n                  })\r\n                }\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div\r\n            className='mt-4 row justify-content-center'\r\n            onClick={handleAddCart}\r\n          >\r\n            <button className='btn btn-primary text-uppercase p-2 col-6'>\r\n              Add To Cart\r\n            </button>\r\n          </div>\r\n        </>\r\n      ) : (\r\n        <div className='add-subtract bg-danger text-white p-2'>\r\n          <h1 className='text-center'>Oops !</h1>\r\n          <h5 className='text-center'>\r\n            This product do not have pricing, please add pricing in the admin\r\n            section\r\n          </h5>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, {useEffect, useState} from 'react';\r\nimport {showNotification} from '../../services/api-handle';\r\nimport {\r\n  payment_methods,\r\n  places,\r\n  printer_widths,\r\n} from '../../services/constants';\r\nimport {getFormattedAmount, getFormattedMeasure} from '../../services/utility';\r\n\r\nfunction Receipt(props) {\r\n  const {cartItems, removeFromCart, handleSale, place, payObj} = props;\r\n  const [useOnlinePrice, setUseOnlinePrice] = useState(false);\r\n\r\n  const getRawTotalAmount = () => {\r\n    if (cartItems.length) {\r\n      let amount = 0;\r\n      cartItems.forEach((item) => {\r\n        if (useOnlinePrice && parseInt(item.price.online_price) === 0) {\r\n          showNotification(\r\n            'This good does not have online price. please add',\r\n            'error',\r\n            null,\r\n            'no-duplicate'\r\n          );\r\n          setUseOnlinePrice(false);\r\n          return;\r\n        }\r\n        amount +=\r\n          (useOnlinePrice\r\n            ? parseInt(item.price.online_price)\r\n            : item.price.amount) * item.quantity;\r\n      });\r\n      return amount;\r\n    }\r\n    return 0;\r\n  };\r\n  const getTotalAmount = () => {\r\n    return getFormattedAmount(getRawTotalAmount(), 1);\r\n  };\r\n\r\n  const [payment, setPayment] = useState({\r\n    payment_method: payment_methods[0],\r\n    transaction_code: '',\r\n    total: getTotalAmount(),\r\n    receiptWidth:\r\n      parseInt(place) === places.BAR\r\n        ? printer_widths.FUSION_PRINTER\r\n        : printer_widths.KITCHEN_PRINTER,\r\n  });\r\n\r\n  useEffect(() => {\r\n    setPayment({\r\n      ...payment,\r\n      ...payObj,\r\n    });\r\n  }, [payObj.sale_id, payObj]);\r\n\r\n  const checkIfUseOnline = (method) => {\r\n    let methods = [...payment_methods];\r\n    const removeFromArray = (item, arr) => {\r\n      return arr.filter((it) => it !== item);\r\n    };\r\n\r\n    methods = removeFromArray(\r\n      'Mpesa',\r\n      removeFromArray('Cash', removeFromArray('Card', methods))\r\n    );\r\n    return methods.includes(method);\r\n  };\r\n\r\n  return (\r\n    <div className='card bg-transparent border-0'>\r\n      <h4 className='text-uppercase text-center mb-3'>Receipt</h4>\r\n      {cartItems.map((item) => (\r\n        <Item\r\n          key={item.id + item.price.amount}\r\n          item={item}\r\n          removeFromCart={removeFromCart}\r\n          useOnlinePrice={useOnlinePrice}\r\n        />\r\n      ))}\r\n      <hr />\r\n      <div className='form-group row'>\r\n        <div className='col text-left'>PAYMENT METHOD</div>\r\n        <div className='col text-center'>\r\n          <select\r\n            name=''\r\n            id=''\r\n            className='form-control'\r\n            value={payment.payment_method}\r\n            onChange={(e) => {\r\n              let payment_method = e.target.value;\r\n              setPayment({\r\n                ...payment,\r\n                payment_method,\r\n              });\r\n\r\n              let useOnline = checkIfUseOnline(payment_method);\r\n              setUseOnlinePrice(useOnline);\r\n            }}\r\n          >\r\n            {payment_methods.map((method) => (\r\n              <option value={method} key={method}>\r\n                {method}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n      </div>\r\n      <div className='form-group row'>\r\n        <div className='col text-left'>SUB TOTAL</div>\r\n        <div className='col text-center'>{getTotalAmount()}</div>\r\n      </div>\r\n      <div className='form-group row'>\r\n        <div className='col text-left'>ADDITIONAL CHARGES</div>\r\n        <div className='col text-center'>Ksh 0</div>\r\n      </div>\r\n      <div className='form-group row'>\r\n        <div className='col text-left'>TOTAL</div>\r\n        <div className='col text-center'>{getTotalAmount()}</div>\r\n      </div>\r\n      {payment.payment_method === 'Mpesa' && (\r\n        <div className='form-group  mt-3'>\r\n          <label htmlFor=''>Transaction Code</label>\r\n          <input\r\n            type='text'\r\n            className='form-control'\r\n            placeholder='OK749ZTL6Y'\r\n            value={payment.transaction_code}\r\n            onChange={(e) =>\r\n              setPayment({...payment, transaction_code: e.target.value})\r\n            }\r\n          />\r\n        </div>\r\n      )}\r\n      <div className='form-group  mt-3'>\r\n        <label htmlFor=''>Customer Paid</label>\r\n        <input\r\n          type='text'\r\n          className='form-control'\r\n          placeholder='Amount customer paid'\r\n          value={payment.customer_pay}\r\n          onChange={(e) =>\r\n            setPayment({\r\n              ...payment,\r\n              customer_pay: e.target.value,\r\n              customer_change: parseFloat(e.target.value) - getRawTotalAmount(),\r\n            })\r\n          }\r\n        />\r\n      </div>\r\n      <div className='form-group'>\r\n        <label htmlFor=''>Choose Printer</label>\r\n        <select\r\n          name=''\r\n          id=''\r\n          className='form-control'\r\n          value={payment.receiptWidth}\r\n          onChange={(e) =>\r\n            setPayment({...payment, receiptWidth: e.target.value})\r\n          }\r\n        >\r\n          <option value={printer_widths.FUSION_PRINTER}>Fusion Printer</option>\r\n          <option value={printer_widths.KITCHEN_PRINTER}>\r\n            Kitchen Printer\r\n          </option>\r\n        </select>\r\n      </div>\r\n      <div className='mt-4 row justify-content-center '>\r\n        <button\r\n          className='btn btn-secondary text-uppercase p-1 mr-2'\r\n          onClick={() =>\r\n            handleSale({\r\n              ...payment,\r\n              total: getTotalAmount(),\r\n              continueToPrint: false,\r\n            })\r\n          }\r\n        >\r\n          {payment.sale_id ? 'Edit' : 'Confirm'}\r\n        </button>\r\n        <button\r\n          className='btn btn-success text-uppercase p-1 ml-2'\r\n          onClick={() =>\r\n            handleSale({\r\n              ...payment,\r\n              total: getTotalAmount(),\r\n              continueToPrint: true,\r\n            })\r\n          }\r\n        >\r\n          {payment.sale_id ? 'Edit' : 'Confirm'} & Print\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Item(props) {\r\n  const {item, removeFromCart, useOnlinePrice} = props;\r\n  const [itemPrice, setItemPrice] = useState('Ksh 0');\r\n\r\n  useEffect(() => {\r\n    setItemPrice(\r\n      getFormattedAmount(\r\n        useOnlinePrice ? item.price.online_price : item.price.amount,\r\n        item.quantity\r\n      )\r\n    );\r\n  }, [\r\n    item.quantity,\r\n    item.price.online_price,\r\n    item.price.amount,\r\n    useOnlinePrice,\r\n  ]);\r\n\r\n  return (\r\n    <div className='item p-2  mb-2'>\r\n      <div className='row'>\r\n        <div className='col text-left'>{item.name}</div>\r\n        <div className='col text-center'>\r\n          {getFormattedMeasure(item.price.unit, item.price.measure)}\r\n        </div>\r\n        <div className='col text-center'>{item.quantity}</div>\r\n        <div className='col text-center'>{itemPrice}</div>\r\n        <div\r\n          className='col text-right link'\r\n          onClick={() => removeFromCart(item)}\r\n        >\r\n          <i className='fa fa-times'></i>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Receipt;\r\n","import React, {useEffect, useState} from 'react';\r\nimport {trackPromise} from 'react-promise-tracker';\r\nimport {\r\n  handleError,\r\n  handleSuccess,\r\n  sendGetRequest,\r\n} from '../../services/api-handle';\r\nimport {formatDate} from '../../services/utility';\r\nimport './receipt-print.scss';\r\n\r\nexport default function ReceiptPrint(props) {\r\n  const {width, sale_id} = props;\r\n\r\n  const [cartItems, setCartItems] = useState([]);\r\n  const [payment, setPayment] = useState({});\r\n  const [count, setCount] = useState(1);\r\n\r\n  useEffect(() => {\r\n    let url = 'sales/cart-items/' + sale_id;\r\n\r\n    trackPromise(\r\n      handleError(\r\n        handleSuccess(sendGetRequest(url)).then((res) => {\r\n          setCartItems(res.data.cart_items);\r\n          setPayment(res.data.sale);\r\n        })\r\n      )\r\n    );\r\n  }, [sale_id]);\r\n  const onAfterPrint = () => {\r\n    props.history.goBack();\r\n  };\r\n\r\n  const handlePrint = () => {\r\n    setCount(1);\r\n    for (let i = 1; i <= 2; i++) {\r\n      setCount(i);\r\n      window.print();\r\n    }\r\n    onAfterPrint();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className='ticket' style={{width: width, maxWidth: width}}>\r\n        <p className='centered'>\r\n          SCRATCH KITCHEN LTD\r\n          <br />\r\n          {count === 1 ? 'CUSTOMER BILL' : 'ORDER'}\r\n          <br />\r\n          <small>\r\n            P.O.BOX 102358-00101 NRB TELEPHONE: 0791 482 995/0756936852\r\n          </small>\r\n          <br />\r\n          <small style={{fontWeight: 'bolder'}}>Till No. 4028177</small>\r\n        </p>\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th className='description'>Description</th>\r\n              <th className='quantity'>Q.</th>\r\n              <th className='price'>@</th>\r\n              <th className='price'>S.T</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {cartItems.map((item) => (\r\n              <tr key={item.id}>\r\n                <td className='description'>{item.name}</td>\r\n                <td className='quantity'>{item.quantity}</td>\r\n                <td className='price'>{item.price.amount}</td>\r\n                <td className='price'>{item.price.amount * item.quantity}</td>\r\n              </tr>\r\n            ))}\r\n            <tr>\r\n              <td className='description centered' colSpan='2'>\r\n                Total\r\n              </td>\r\n              <td className='price' colSpan='2'>\r\n                {payment.total}\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n        <p className='centered'>\r\n          Served by\r\n          {' ' +\r\n            payment.firstname +\r\n            ' ' +\r\n            payment.lastname +\r\n            ' at ' +\r\n            formatDate(payment.created_at)}\r\n          <br />\r\n          askscratchkitchen@gmail.com /ig@scratchkitchen\r\n        </p>\r\n      </div>\r\n      <div\r\n        className='justify-content-center  row hidden-print'\r\n        style={{width: width, maxWidth: width}}\r\n      >\r\n        <button\r\n          className='btn btn-secondary ml-2'\r\n          onClick={() => onAfterPrint()}\r\n        >\r\n          Back\r\n        </button>\r\n        <button\r\n          id='btnPrint'\r\n          className='hidden-print btn btn-dark ml-5'\r\n          onClick={handlePrint}\r\n        >\r\n          Print\r\n        </button>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import React, {Component} from 'react';\r\nimport {getFromLocal} from '../../services/utility';\r\n\r\nfunction withEmployeeValidation(WrappedComponent) {\r\n  return class WithEmployeeValidation extends Component {\r\n    render() {\r\n      let currentUser = getFromLocal('currentUser');\r\n      if (!currentUser || currentUser.isAdmin) {\r\n        this.props.history.push('/');\r\n        return <></>;\r\n      }\r\n      return <WrappedComponent {...this.props} />;\r\n    }\r\n  };\r\n}\r\n\r\nexport default withEmployeeValidation;\r\n","import React, {Component} from 'react';\r\nimport Category from '../../components/category/category';\r\nimport Header from '../../components/header/header';\r\nimport ProcessTransaction from '../../components/process-transaction/process-transaction';\r\nimport Receipt from '../../components/receipt/receipt';\r\nimport {\r\n  handleError,\r\n  handleSuccess,\r\n  sendGetRequest,\r\n  sendPostRequest,\r\n  showNotification,\r\n} from '../../services/api-handle';\r\nimport {\r\n  formatUrl,\r\n  getFormattedMeasure,\r\n  getFromLocal,\r\n} from '../../services/utility';\r\nimport './employee.scss';\r\nimport ReceiptPrint from '../../components/receipt/receipt-print';\r\nimport withEmployeeValidation from './with-employee-validation';\r\nimport {trackPromise} from 'react-promise-tracker';\r\n\r\nclass EmployeeDashboard extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      categories: [],\r\n      filteredCategories: [],\r\n      selectedCategoryId: '',\r\n      q: '',\r\n      selectedItem: {},\r\n      cartItems: [],\r\n      payment: {},\r\n      showPrint: false,\r\n      saleId: '',\r\n    };\r\n    this.receiptRef = React.createRef();\r\n  }\r\n  componentDidMount() {\r\n    this.getCategories();\r\n    let saleId = this.props.match.params.sale_id;\r\n    if (saleId) {\r\n      this.setState({saleId});\r\n      let url = 'sales/cart-items/' + saleId;\r\n\r\n      trackPromise(\r\n        handleError(\r\n          handleSuccess(sendGetRequest(url)).then((res) => {\r\n            let cartItems = res.data.cart_items;\r\n            let sale = res.data.sale;\r\n            let payment = {\r\n              payment_method: sale.payment_method,\r\n              customer_pay: sale.customer_pay,\r\n              transaction_code: sale.transaction_code,\r\n              sale_id: sale.id,\r\n              customer_change: sale.customer_change,\r\n            };\r\n            this.setState({cartItems, payment});\r\n          })\r\n        )\r\n      );\r\n    }\r\n  }\r\n\r\n  getCategories() {\r\n    let place = this.props.match.params.id;\r\n\r\n    let url = formatUrl('categories', {place});\r\n    trackPromise(\r\n      handleError(\r\n        handleSuccess(sendGetRequest(url)).then((res) => {\r\n          let categories = res.data.categories;\r\n          this.setState({\r\n            categories: categories,\r\n            filteredCategories: categories,\r\n          });\r\n        })\r\n      )\r\n    );\r\n  }\r\n  getFilteredCategories() {\r\n    const {selectedCategoryId, q} = this.state;\r\n    let place = this.props.match.params.id;\r\n\r\n    let url = formatUrl(\r\n      'categories/filtered',\r\n      {category: selectedCategoryId},\r\n      {q},\r\n      {place}\r\n    );\r\n    handleError(\r\n      handleSuccess(sendGetRequest(url)).then((res) => {\r\n        this.setState({filteredCategories: res.data.categories});\r\n      })\r\n    );\r\n  }\r\n\r\n  handleChangeCategory = (e) => {\r\n    this.setState({selectedCategoryId: e.target.value}, () =>\r\n      this.getFilteredCategories()\r\n    );\r\n  };\r\n\r\n  handleSearch = (e) => {\r\n    this.setState({q: e.target.value}, () => this.getFilteredCategories());\r\n  };\r\n\r\n  onItemClick = (selectedItem) => {\r\n    this.setState({selectedItem});\r\n  };\r\n\r\n  handleAddToCart = (item) => {\r\n    let {cartItems} = this.state;\r\n    let index = cartItems.findIndex(\r\n      (cItem) =>\r\n        cItem.id === item.id && item.price.measure === cItem.price.measure\r\n    );\r\n    if (index >= 0) {\r\n      showNotification('Item updated in the cart', 'success', 'bottom-right');\r\n      cartItems[index] = item;\r\n    } else {\r\n      showNotification('Item added to cart', 'success', 'bottom-right');\r\n      cartItems.push(item);\r\n    }\r\n\r\n    this.setState({cartItems});\r\n  };\r\n\r\n  removeFromCart = (item) => {\r\n    let {cartItems} = this.state;\r\n\r\n    let index = cartItems.findIndex(\r\n      (cItem) =>\r\n        cItem.id === item.id && item.price.measure === cItem.price.measure\r\n    );\r\n    if (index >= 0) {\r\n      cartItems.splice(index, 1);\r\n\r\n      showNotification('Item removed from cart', 'warning', 'bottom-right');\r\n      this.setState(cartItems);\r\n    }\r\n  };\r\n\r\n  handleSale = (payment) => {\r\n    const {cartItems} = this.state;\r\n    const currentUser = getFromLocal('currentUser');\r\n    const {continueToPrint, sale_id} = payment;\r\n    let addSaleUrl = 'sales';\r\n    let addHistoryUrl = 'sales/history';\r\n    let successMessage = 'Sale made successfully';\r\n    if (sale_id) {\r\n      addSaleUrl = `sales/${sale_id}/edit`;\r\n      addHistoryUrl = `sales/${sale_id}/history/edit`;\r\n      successMessage = 'Sale edited successfully';\r\n    }\r\n\r\n    trackPromise(\r\n      handleError(\r\n        handleSuccess(\r\n          sendPostRequest(addSaleUrl, {\r\n            ...payment,\r\n            sold_by: `${currentUser.id}`,\r\n            sold_goods: cartItems.length,\r\n            sold_by_text: `${currentUser.firstname} ${currentUser.lastname}`,\r\n          }).then((res) => {\r\n            let saleResp = res.data.sale;\r\n            this.setState({\r\n              payment: {\r\n                ...saleResp,\r\n                sold_by_text: `${currentUser.firstname} ${currentUser.lastname}`,\r\n                receiptWidth: payment.receiptWidth,\r\n              },\r\n            });\r\n            let goods = [];\r\n            let quantities = [];\r\n            let measures = [];\r\n            let prices = [];\r\n\r\n            cartItems.forEach((item) => {\r\n              goods.push(item.id);\r\n              quantities.push(parseInt(item.quantity));\r\n              measures.push(\r\n                getFormattedMeasure(item.price.unit, item.price.measure)\r\n              );\r\n              prices.push(`Ksh ${item.price.amount}`);\r\n            });\r\n\r\n            trackPromise(\r\n              handleError(\r\n                handleSuccess(\r\n                  sendPostRequest(addHistoryUrl, {\r\n                    goods,\r\n                    quantities,\r\n                    prices,\r\n                    measures,\r\n                    sale_id: saleResp.id,\r\n                  }),\r\n                  successMessage\r\n                ).then((res) => {\r\n                  if (continueToPrint) {\r\n                    this.props.history.push(\r\n                      formatUrl('/employee/print', {\r\n                        sale_id: saleResp.id,\r\n                        width: payment.receiptWidth,\r\n                      })\r\n                    );\r\n                  } else {\r\n                    this.onAfterPrint();\r\n                  }\r\n                })\r\n              )\r\n            );\r\n          })\r\n        )\r\n      )\r\n    );\r\n  };\r\n\r\n  onAfterPrint = () => {\r\n    let place = this.props.match.params.id;\r\n    this.setState({\r\n      selectedItem: {},\r\n      cartItems: [],\r\n      payment: {},\r\n      showPrint: false,\r\n    });\r\n    this.props.history.push('/employee/dashboard/' + place);\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      categories,\r\n      filteredCategories,\r\n      q,\r\n      selectedItem,\r\n      cartItems,\r\n      payment,\r\n      showPrint,\r\n    } = this.state;\r\n\r\n    if (showPrint) {\r\n      return (\r\n        <ReceiptPrint\r\n          cartItems={cartItems}\r\n          payment={payment}\r\n          printReceipt={this.printReceipt}\r\n          onAfterPrint={this.onAfterPrint}\r\n        />\r\n      );\r\n    }\r\n    return (\r\n      <div className='container-fluid hidden-print'>\r\n        <div className='row'>\r\n          <Header place={this.props.match.params.id} />\r\n\r\n          <div className='col-md-12 row mt-2 justify-content-center'>\r\n            <div className='col-sm  side-part p-2 section'>\r\n              <div className='input-group mb-3'>\r\n                <input\r\n                  type='text'\r\n                  className='form-control'\r\n                  placeholder='Search anything'\r\n                  aria-label=\"Recipient's username\"\r\n                  aria-describedby='basic-addon2'\r\n                  value={q}\r\n                  onChange={this.handleSearch}\r\n                />\r\n                <div className='input-group-append'>\r\n                  <button className='btn btn-outline-secondary' type='button'>\r\n                    <i className='fa fa-search'></i>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              <div className='form-group'>\r\n                <label htmlFor='category'>Select Category</label>\r\n                <select\r\n                  name='\r\n                '\r\n                  id=''\r\n                  className='form-control'\r\n                  onChange={this.handleChangeCategory}\r\n                >\r\n                  <option value=''>All Categories</option>\r\n                  {categories.map((category) => (\r\n                    <option value={category.id} key={category.id}>\r\n                      {category.name}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n              {filteredCategories.map((category) =>\r\n                category.goods.length ? (\r\n                  <Category\r\n                    category={category}\r\n                    onItemClick={this.onItemClick}\r\n                    key={category.id}\r\n                  />\r\n                ) : null\r\n              )}\r\n            </div>\r\n\r\n            <div className='col-sm border-right border-dark border-left border-dark section'>\r\n              <ProcessTransaction\r\n                selectedItem={selectedItem}\r\n                handleAddToCart={this.handleAddToCart}\r\n              />\r\n            </div>\r\n            <div className='col-sm'>\r\n              <Receipt\r\n                cartItems={cartItems}\r\n                removeFromCart={this.removeFromCart}\r\n                handleSale={this.handleSale}\r\n                place={this.props.match.params.id}\r\n                payObj={payment}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withEmployeeValidation(EmployeeDashboard);\r\n","import React, {useState} from 'react';\r\nimport {trackPromise} from 'react-promise-tracker';\r\n\r\nimport {toast} from 'react-toastify';\r\nimport Modal from '../../../components/modal/modal';\r\nimport {\r\n  handleError,\r\n  handleSuccess,\r\n  sendPostRequest,\r\n} from '../../../services/api-handle';\r\nimport {objetPropEmpty} from '../../../services/utility';\r\n\r\nfunction AddEmployee(props) {\r\n  const {handleClose} = props;\r\n  const [admin, setAdmin] = useState({\r\n    firstname: '',\r\n    lastname: '',\r\n    email: '',\r\n    phone: '',\r\n    password: '',\r\n  });\r\n\r\n  const updateEmpProp = (obj) => {\r\n    setAdmin({...admin, ...obj});\r\n  };\r\n\r\n  const saveEmployee = () => {\r\n    if (admin.password !== admin.confirm_password) {\r\n      toast.error('The two passwords do not match');\r\n    } else if (objetPropEmpty(admin)) {\r\n      toast.error('Do not leave fields empty');\r\n    } else {\r\n      trackPromise(\r\n        handleError(\r\n          handleSuccess(\r\n            sendPostRequest('employees', admin),\r\n            'Employee added successfully'\r\n          ).then((res) => {\r\n            handleClose();\r\n          })\r\n        )\r\n      );\r\n    }\r\n  };\r\n  return (\r\n    <Modal>\r\n      <div className=''>\r\n        <div className='modal-header'>\r\n          <div className='h4 text-center'>New Employee</div>\r\n        </div>\r\n        <div className='modal-body'>\r\n          <div className='form-group'>\r\n            <label htmlFor='firstname'>First name</label>\r\n            <input\r\n              type='text'\r\n              className='form-control'\r\n              placeholder='Enter firstname'\r\n              value={admin.firstname}\r\n              onChange={(e) => updateEmpProp({firstname: e.target.value})}\r\n            />\r\n          </div>\r\n          <div className='form-group'>\r\n            <label htmlFor='firstname'>Last name</label>\r\n            <input\r\n              type='text'\r\n              className='form-control'\r\n              placeholder='Enter lastname'\r\n              value={admin.lastname}\r\n              onChange={(e) => updateEmpProp({lastname: e.target.value})}\r\n            />\r\n          </div>\r\n          <div className='form-group'>\r\n            <label htmlFor='firstname'>Phone Number</label>\r\n            <input\r\n              type='text'\r\n              className='form-control'\r\n              placeholder='Enter phone number'\r\n              value={admin.phone}\r\n              onChange={(e) => updateEmpProp({phone: e.target.value})}\r\n            />\r\n          </div>\r\n          <div className='form-group'>\r\n            <label htmlFor='firstname'>Email</label>\r\n            <input\r\n              type='text'\r\n              className='form-control'\r\n              placeholder='Enter email'\r\n              value={admin.email}\r\n              onChange={(e) => updateEmpProp({email: e.target.value})}\r\n            />\r\n          </div>\r\n          <div className='form-group'>\r\n            <label htmlFor='firstname'>Password</label>\r\n            <input\r\n              type='password'\r\n              className='form-control'\r\n              placeholder='Enter password'\r\n              value={admin.password}\r\n              onChange={(e) => updateEmpProp({password: e.target.value})}\r\n            />\r\n          </div>\r\n          <div className='form-group'>\r\n            <label htmlFor='firstname'>Confirm Password</label>\r\n            <input\r\n              type='text'\r\n              className='form-control'\r\n              placeholder='Confirm password'\r\n              value={admin.confirm_password}\r\n              onChange={(e) =>\r\n                updateEmpProp({confirm_password: e.target.value})\r\n              }\r\n            />\r\n          </div>\r\n\r\n          <div className='mt-2 mb-2 row justify-content-between pl-2 pr-2'>\r\n            <button className='btn btn-secondary col-4' onClick={handleClose}>\r\n              Cancel\r\n            </button>\r\n            <button className='btn btn-primary col-4' onClick={saveEmployee}>\r\n              Save Employee\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nexport default AddEmployee;\r\n","import React, {Component} from 'react';\r\nimport {trackPromise} from 'react-promise-tracker';\r\nimport TableIcon from '../../../components/table-icon/table-icon';\r\nimport {\r\n  handleError,\r\n  handleSuccess,\r\n  sendGetRequest,\r\n  sendPostRequest,\r\n} from '../../../services/api-handle';\r\nimport {formatDate, getDateTimeAgo} from '../../../services/utility';\r\nimport withTemplate from '../with-template';\r\nimport AddEmployee from './add-employee';\r\n\r\nclass Employees extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      showAddEmployee: false,\r\n      employees: [],\r\n    };\r\n  }\r\n  fetchEmployees() {\r\n    trackPromise(\r\n      handleError(\r\n        handleSuccess(sendGetRequest('employees')).then((res) => {\r\n          let employees = res.data;\r\n          this.setState({employees});\r\n        })\r\n      )\r\n    );\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetchEmployees();\r\n  }\r\n\r\n  updateShowAdmin = (showAddEmployee) => {\r\n    this.setState({showAddEmployee});\r\n  };\r\n\r\n  onDelete = (employee) => {\r\n    trackPromise(\r\n      handleError(\r\n        handleSuccess(\r\n          sendPostRequest(`employees/${employee.id}/delete`),\r\n          'Employee deleted successfully'\r\n        ).then((res) => this.fetchEmployees())\r\n      )\r\n    );\r\n  };\r\n  render() {\r\n    const {showAddEmployee, employees} = this.state;\r\n    return (\r\n      <div className='mt-3'>\r\n        {showAddEmployee && (\r\n          <AddEmployee\r\n            handleClose={() => {\r\n              this.updateShowAdmin(false);\r\n              this.fetchEmployees();\r\n            }}\r\n          />\r\n        )}\r\n\r\n        <h2>Employees </h2>\r\n        <div className='w-100 row justify-content-end mb-2'>\r\n          <button\r\n            className='btn btn-info'\r\n            onClick={() => this.updateShowAdmin(true)}\r\n          >\r\n            <i className='fa fa-plus mr-2'></i>Add New\r\n          </button>\r\n        </div>\r\n        <div className='table-responsive'>\r\n          <table className='table table-striped table-sm'>\r\n            <thead>\r\n              <tr>\r\n                <th>#</th>\r\n                <th>Name</th>\r\n                <th>Phone Number</th>\r\n                <th>Email</th>\r\n                <th>Updated</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {employees.map((emp, index) => (\r\n                <tr key={emp.id}>\r\n                  <td>{++index}</td>\r\n                  <td>{emp.firstname + ' ' + emp.lastname}</td>\r\n                  <td>{emp.phone}</td>\r\n                  <td>{emp.email}</td>\r\n                  <td>\r\n                    <span title={formatDate(emp.updated_at)}>\r\n                      {getDateTimeAgo(emp.updated_at)}\r\n                    </span>\r\n                  </td>\r\n                  <td>\r\n                    <TableIcon onClick={() => this.onDelete(emp)}>\r\n                      <i className='fa fa-trash'></i>\r\n                    </TableIcon>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withTemplate(Employees);\r\n","import React, {Component} from 'react';\r\nimport {trackPromise} from 'react-promise-tracker';\r\nimport {\r\n  handleError,\r\n  handleSuccess,\r\n  sendPostRequest,\r\n} from '../../services/api-handle';\r\nimport {user_types} from '../../services/constants';\r\nimport {removeFromLocalStorage, storeUserLocally} from '../../services/utility';\r\n\r\nexport default class Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      user: {\r\n        level: user_types.EMPLOYEE,\r\n      },\r\n    };\r\n  }\r\n\r\n  updatePropChange = (obj) => {\r\n    this.setState({\r\n      user: {\r\n        ...this.state.user,\r\n        ...obj,\r\n      },\r\n    });\r\n  };\r\n  componentDidMount() {\r\n    removeFromLocalStorage('currentUser');\r\n  }\r\n\r\n  handleLogin = () => {\r\n    const {user} = this.state;\r\n    let url = 'admins/login';\r\n    let successMessage = 'Login successful';\r\n    let redirectUrl = '/admin';\r\n    let isAdmin = user.level === user_types.ADMIN;\r\n    if (!isAdmin) {\r\n      url = 'employees/login';\r\n      redirectUrl = '/employee';\r\n    }\r\n    trackPromise(\r\n      handleError(\r\n        handleSuccess(sendPostRequest(url, user), successMessage).then(\r\n          (res) => {\r\n            let user = res.data.user;\r\n            storeUserLocally('currentUser', {\r\n              ...user,\r\n              isAdmin,\r\n            });\r\n            this.props.history.push(redirectUrl);\r\n          }\r\n        )\r\n      )\r\n    );\r\n  };\r\n  render() {\r\n    const {user} = this.state;\r\n    return (\r\n      <div className='container'>\r\n        <div className='row justify-content-center'>\r\n          <div className='card shadow shadow-secondary mt-4'>\r\n            <div className='card-body'>\r\n              <h1 className='jumbotron jumbotron-fluid bg-transparent'>\r\n                SCRATCH KITCHEN\r\n              </h1>\r\n              <hr />\r\n              <div className='form-group row justify-content-center'>\r\n                <div\r\n                  className='btn-group col-12'\r\n                  role='group'\r\n                  aria-label='Basic example'\r\n                >\r\n                  <button\r\n                    type='button'\r\n                    className={`btn btn-${\r\n                      user.level === user_types.EMPLOYEE\r\n                        ? 'white border-dark'\r\n                        : 'dark'\r\n                    }`}\r\n                    onClick={() =>\r\n                      this.updatePropChange({level: user_types.ADMIN})\r\n                    }\r\n                  >\r\n                    Admin\r\n                  </button>\r\n                  <button\r\n                    type='button'\r\n                    className={`btn btn-${\r\n                      user.level === user_types.ADMIN\r\n                        ? 'white border-dark'\r\n                        : 'dark'\r\n                    }`}\r\n                    onClick={() =>\r\n                      this.updatePropChange({level: user_types.EMPLOYEE})\r\n                    }\r\n                  >\r\n                    Employee\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              <div className='form-group'>\r\n                <label htmlFor='email'>Email</label>\r\n                <input\r\n                  type='text'\r\n                  className='form-control'\r\n                  placeholder='Enter email'\r\n                  onChange={(e) =>\r\n                    this.updatePropChange({email: e.target.value})\r\n                  }\r\n                />\r\n              </div>\r\n              <div className='form-group'>\r\n                <label htmlFor='username'>Password</label>\r\n                <input\r\n                  type='password'\r\n                  className='form-control'\r\n                  placeholder='Enter password'\r\n                  onChange={(e) =>\r\n                    this.updatePropChange({password: e.target.value})\r\n                  }\r\n                />\r\n              </div>\r\n\r\n              <hr />\r\n              <div className='row justify-content-center'>\r\n                <button\r\n                  className='btn btn-primary col-6'\r\n                  onClick={this.handleLogin}\r\n                >\r\n                  Login\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, {Component, useState} from 'react';\r\nimport {trackPromise} from 'react-promise-tracker';\r\nimport {Link} from 'react-router-dom';\r\nimport Modal from '../../../components/modal/modal';\r\nimport TableIcon from '../../../components/table-icon/table-icon';\r\nimport {\r\n  handleError,\r\n  handleSuccess,\r\n  sendGetRequest,\r\n  sendPostRequest,\r\n} from '../../../services/api-handle';\r\nimport {places} from '../../../services/constants';\r\nimport {formatDate, getDateTimeAgo} from '../../../services/utility';\r\nimport withTemplate from '../with-template';\r\n\r\nclass Categories extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      categories: [],\r\n    };\r\n  }\r\n\r\n  fetchCategories() {\r\n    trackPromise(\r\n      handleError(\r\n        handleSuccess(sendGetRequest('categories')).then((res) => {\r\n          this.setState({categories: res.data.categories});\r\n        })\r\n      )\r\n    );\r\n  }\r\n  componentDidMount() {\r\n    this.fetchCategories();\r\n  }\r\n\r\n  updateShowAddCategory = (showAddCategory) => {\r\n    this.setState({showAddCategory});\r\n  };\r\n\r\n  onDelete = (category) => {\r\n    trackPromise(\r\n      handleError(\r\n        handleSuccess(\r\n          sendPostRequest(`categories/${category.id}/delete`),\r\n          'Category deleted successfully'\r\n        ).then((res) => this.fetchCategories())\r\n      )\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const {showAddCategory, categories} = this.state;\r\n    return (\r\n      <div className='mt-3'>\r\n        {showAddCategory && (\r\n          <AddCategory\r\n            handleClose={() => {\r\n              this.updateShowAddCategory(false);\r\n              this.fetchCategories();\r\n            }}\r\n          />\r\n        )}\r\n\r\n        <h2>Categories </h2>\r\n        <div className='w-100 row justify-content-end mb-2'>\r\n          <button\r\n            className='btn btn-info'\r\n            onClick={() => this.updateShowAddCategory(true)}\r\n          >\r\n            <i className='fa fa-plus mr-2'></i>Add New\r\n          </button>\r\n        </div>\r\n        <div className='table-responsive'>\r\n          <table className='table table-striped table-sm'>\r\n            <thead>\r\n              <tr>\r\n                <th>#</th>\r\n                <th>Name</th>\r\n                <th>Type</th>\r\n                <th>Created</th>\r\n                <th>Updated</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {categories.map((category, index) => (\r\n                <tr key={category.id}>\r\n                  <td>{++index}</td>\r\n                  <td>\r\n                    <Link\r\n                      to={`/admin/products/${category.id}`}\r\n                      className='link'\r\n                    >\r\n                      {category.name}\r\n                    </Link>\r\n                  </td>\r\n                  <td>\r\n                    {category.place === places.BAR ? 'Bar' : 'Restaurant'}\r\n                  </td>\r\n                  <td>\r\n                    <span title={formatDate(category.created_at)}>\r\n                      {getDateTimeAgo(category.created_at)}\r\n                    </span>\r\n                  </td>\r\n                  <td>\r\n                    <span title={formatDate(category.updated_at)}>\r\n                      {getDateTimeAgo(category.updated_at)}\r\n                    </span>\r\n                  </td>\r\n                  <td>\r\n                    <TableIcon onClick={() => this.onDelete(category)}>\r\n                      <i className='fa fa-trash'></i>\r\n                    </TableIcon>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction AddCategory(props) {\r\n  const {handleClose} = props;\r\n  const [category, setCategory] = useState({});\r\n  const onSave = () => {\r\n    trackPromise(\r\n      handleError(\r\n        handleSuccess(\r\n          sendPostRequest('categories', category),\r\n          'Category added successfully'\r\n        ).then((res) => handleClose())\r\n      )\r\n    );\r\n  };\r\n  return (\r\n    <Modal>\r\n      <div className='modal-header'>\r\n        <div className='h4 text-center'>Add Category</div>\r\n      </div>\r\n      <div className='modal-body'>\r\n        <div className='form-group'>\r\n          <label htmlFor=''>Type</label>\r\n          <select\r\n            name=''\r\n            id=''\r\n            className='form-control'\r\n            onChange={(e) => setCategory({...category, place: e.target.value})}\r\n          >\r\n            <option value=''>Select Type</option>\r\n            <option value={places.BAR}>Bar</option>\r\n            <option value={places.RESTAURANT}>Restaurant</option>\r\n          </select>\r\n        </div>\r\n        <div className='form-group'>\r\n          <label htmlFor=''>Name</label>\r\n          <input\r\n            type='text'\r\n            className='form-control'\r\n            placeholder='Enter name '\r\n            value={category.name}\r\n            onChange={(e) => setCategory({...category, name: e.target.value})}\r\n          />\r\n        </div>\r\n\r\n        <div className='mt-2 mb-2 row justify-content-between pl-2 pr-2'>\r\n          <button className='btn btn-secondary col-4' onClick={handleClose}>\r\n            Cancel\r\n          </button>\r\n          <button className='btn btn-primary col-4' onClick={onSave}>\r\n            Save Category\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nexport default withTemplate(Categories);\r\n","import React, {Component, useState} from 'react';\r\nimport {trackPromise} from 'react-promise-tracker';\r\nimport {Link} from 'react-router-dom';\r\nimport Modal from '../../../components/modal/modal';\r\nimport TableIcon from '../../../components/table-icon/table-icon';\r\nimport {\r\n  handleError,\r\n  handleSuccess,\r\n  sendGetRequest,\r\n  sendPostRequest,\r\n} from '../../../services/api-handle';\r\nimport {places} from '../../../services/constants';\r\nimport {formatDate, getDateTimeAgo} from '../../../services/utility';\r\nimport withTemplate from '../with-template';\r\n\r\nclass Goods extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      showAddProduct: false,\r\n      products: [],\r\n      category: {},\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.fetchProducts();\r\n  }\r\n\r\n  fetchProducts() {\r\n    let categoryId = this.props.match.params.id;\r\n    trackPromise(\r\n      handleError(\r\n        handleSuccess(sendGetRequest(`products?category=${categoryId}`)).then(\r\n          (res) => {\r\n            let {products, category} = res.data;\r\n            this.setState({products, category});\r\n          }\r\n        )\r\n      )\r\n    );\r\n  }\r\n  updateShowAddProduct = (showAddProduct) => {\r\n    this.setState({showAddProduct});\r\n  };\r\n  onDelete = (good) => {\r\n    trackPromise(\r\n      handleError(\r\n        handleSuccess(\r\n          sendPostRequest(`products/${good.id}/delete`),\r\n          'Product deleted successfully'\r\n        ).then((res) => this.fetchProducts())\r\n      )\r\n    );\r\n  };\r\n  render() {\r\n    const {showAddProduct, products, category} = this.state;\r\n    return (\r\n      <div className='mt-3'>\r\n        {showAddProduct && (\r\n          <AddProduct\r\n            handleClose={() => {\r\n              this.updateShowAddProduct(false);\r\n              this.fetchProducts();\r\n            }}\r\n            category={this.props.match.params.id}\r\n          />\r\n        )}\r\n        <h2>{`Products (${category.name})`}</h2>\r\n        <div className='w-100 row justify-content-end mb-2'>\r\n          <button\r\n            className='btn btn-info'\r\n            onClick={() => this.updateShowAddProduct(true)}\r\n          >\r\n            <i className='fa fa-plus mr-2'></i>Add New\r\n          </button>\r\n        </div>\r\n        <div className='table-responsive'>\r\n          <table className='table table-striped table-sm'>\r\n            <thead>\r\n              <tr>\r\n                <th>#</th>\r\n                <th>Name</th>\r\n                <th>Created</th>\r\n                <th>Updated</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {products.map((product, index) => (\r\n                <tr>\r\n                  <td>{++index}</td>\r\n                  <td>\r\n                    <Link\r\n                      to={`/admin/products/${product.id}/pricing`}\r\n                      className='link'\r\n                    >\r\n                      {product.name}\r\n                    </Link>\r\n                  </td>\r\n                  <td>\r\n                    <span title={formatDate(product.created_at)}>\r\n                      {getDateTimeAgo(product.created_at)}\r\n                    </span>\r\n                  </td>\r\n                  <td>\r\n                    <span title={formatDate(product.updated_at)}>\r\n                      {getDateTimeAgo(product.updated_at)}\r\n                    </span>\r\n                  </td>\r\n                  <td>\r\n                    <TableIcon onClick={() => this.onDelete(product)}>\r\n                      <i className='fa fa-trash'></i>\r\n                    </TableIcon>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction AddProduct(props) {\r\n  const {handleClose, category} = props;\r\n  const [product, setProduct] = useState({});\r\n\r\n  const onSave = () => {\r\n    trackPromise(\r\n      handleError(\r\n        handleSuccess(\r\n          sendPostRequest('products', {...product, category}),\r\n          'Product added successfully'\r\n        ).then((res) => handleClose())\r\n      )\r\n    );\r\n  };\r\n  return (\r\n    <Modal>\r\n      <div className='modal-header'>\r\n        <div className='h4 text-center'>Add Product</div>\r\n      </div>\r\n      <div className='modal-body'>\r\n        <div className='form-group'>\r\n          <label htmlFor=''>Name</label>\r\n          <input\r\n            type='text'\r\n            className='form-control'\r\n            placeholder='Enter name '\r\n            value={product.name}\r\n            onChange={(e) => setProduct({...product, name: e.target.value})}\r\n          />\r\n        </div>\r\n\r\n        <div className='mt-2 mb-2 row justify-content-between pl-2 pr-2'>\r\n          <button className='btn btn-secondary col-4' onClick={handleClose}>\r\n            Cancel\r\n          </button>\r\n          <button className='btn btn-primary col-4' onClick={onSave}>\r\n            Save Product\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\nexport default withTemplate(Goods);\r\n","import React, {Component} from 'react';\r\nimport {trackPromise} from 'react-promise-tracker';\r\nimport {toast} from 'react-toastify';\r\nimport TableIcon from '../../../components/table-icon/table-icon';\r\nimport {\r\n  handleError,\r\n  handleSuccess,\r\n  sendGetRequest,\r\n  sendPostRequest,\r\n} from '../../../services/api-handle';\r\nimport {\r\n  formatDate,\r\n  getDateTimeAgo,\r\n  getFormattedMeasure,\r\n} from '../../../services/utility';\r\nimport withTemplate from '../with-template';\r\n\r\nclass Pricing extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      pricings: [],\r\n      selectedPricing: {},\r\n      good: {},\r\n    };\r\n  }\r\n\r\n  getPricings() {\r\n    let goodId = this.props.match.params.id;\r\n    if (!goodId) {\r\n      toast.warn('The good id is required to view this page');\r\n      this.props.history.goBack();\r\n      return;\r\n    }\r\n\r\n    trackPromise(\r\n      handleError(\r\n        handleSuccess(sendGetRequest('pricings?good=' + goodId)).then((res) => {\r\n          let pricings = res.data.pricings;\r\n          let good = res.data.good;\r\n          this.setState({pricings, good});\r\n        })\r\n      )\r\n    );\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getPricings();\r\n  }\r\n\r\n  updatePropChange = (obj) => {\r\n    this.setState({\r\n      selectedPricing: {\r\n        ...this.state.selectedPricing,\r\n        ...obj,\r\n      },\r\n    });\r\n  };\r\n\r\n  addPricing = () => {\r\n    const {selectedPricing} = this.state;\r\n    let goodId = this.props.match.params.id;\r\n\r\n    let url = 'pricings',\r\n      successMessage = 'Price added successfully';\r\n    if (selectedPricing.id) {\r\n      url = `pricings/${selectedPricing.id}/edit`;\r\n      successMessage = 'Price updated successfully';\r\n    }\r\n\r\n    selectedPricing.good = goodId;\r\n    trackPromise(\r\n      handleError(\r\n        handleSuccess(\r\n          sendPostRequest(url, selectedPricing),\r\n          successMessage\r\n        ).then((res) => {\r\n          this.getPricings();\r\n        })\r\n      )\r\n    );\r\n  };\r\n\r\n  showEditPricing = (selectedPricing) => {\r\n    this.setState({selectedPricing});\r\n  };\r\n  onDelete = (pricing) => {\r\n    trackPromise(\r\n      handleError(\r\n        handleSuccess(\r\n          sendPostRequest(`pricings/${pricing.id}/delete`)\r\n        ).then((res) => this.getPricings())\r\n      )\r\n    );\r\n  };\r\n  render() {\r\n    const {pricings, selectedPricing, good} = this.state;\r\n    return (\r\n      <div className='mt-3'>\r\n        <h2>{`Pricing (${good.name})`} </h2>\r\n        <div className='card'>\r\n          <div className='card-body'>\r\n            <div className='row'>\r\n              <div className='form-group'>\r\n                <label htmlFor=''>Unit</label>\r\n                <select\r\n                  name=''\r\n                  id=''\r\n                  className='form-control'\r\n                  onChange={(e) =>\r\n                    this.updatePropChange({unit: e.target.value})\r\n                  }\r\n                  value={selectedPricing.unit}\r\n                >\r\n                  <option value=''>Select Unit</option>\r\n                  <option value='ml'>ML</option>\r\n                  <option value='kg'>KG</option>\r\n                  <option value='count'>Count</option>\r\n                </select>\r\n              </div>\r\n              <div className='form-group ml-1'>\r\n                <label htmlFor=''>Measure - {selectedPricing.unit}</label>\r\n\r\n                <input\r\n                  type='text'\r\n                  className='form-control'\r\n                  placeholder='Eg 1/4'\r\n                  value={selectedPricing.measure}\r\n                  onChange={(e) =>\r\n                    this.updatePropChange({measure: e.target.value})\r\n                  }\r\n                />\r\n              </div>\r\n              <div className='form-group ml-1'>\r\n                <label htmlFor=''>Retail Price</label>\r\n                <input\r\n                  type='text'\r\n                  className='form-control'\r\n                  placeholder=' Eg 300'\r\n                  value={selectedPricing.amount}\r\n                  onChange={(e) =>\r\n                    this.updatePropChange({amount: e.target.value})\r\n                  }\r\n                />\r\n              </div>\r\n              <div className='form-group ml-1'>\r\n                <label htmlFor=''>Online Price</label>\r\n                <input\r\n                  type='text'\r\n                  className='form-control'\r\n                  placeholder=' Eg 400'\r\n                  value={selectedPricing.online_price}\r\n                  onChange={(e) =>\r\n                    this.updatePropChange({online_price: e.target.value})\r\n                  }\r\n                />\r\n              </div>\r\n              <div className='form-group ml-2 mt-2 col-3'>\r\n                <button\r\n                  className='btn btn-primary mt-4 w-100'\r\n                  onClick={this.addPricing}\r\n                >\r\n                  {selectedPricing.id ? 'Update' : 'Add'}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className='card mt-3'>\r\n          <div className='card-body'>\r\n            <div className='table-responsive'>\r\n              <table className='table table-striped table-sm'>\r\n                <thead>\r\n                  <tr>\r\n                    <th>#</th>\r\n                    <th>Measure</th>\r\n                    <th>Retail Price</th>\r\n                    <th>Online Price</th>\r\n                    <th>Created</th>\r\n                    <th>Updated</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {pricings.map((pricing, index) => (\r\n                    <tr key={pricing.id} className='link'>\r\n                      <td>{++index}</td>\r\n                      <td>\r\n                        {getFormattedMeasure(pricing.unit, pricing.measure)}\r\n                      </td>\r\n                      <td>{'Ksh ' + pricing.amount}</td>\r\n                      <td>{'Ksh ' + pricing.online_price}</td>\r\n                      <td>\r\n                        <span title={formatDate(pricing.created_at)}>\r\n                          {getDateTimeAgo(pricing.created_at)}\r\n                        </span>\r\n                      </td>\r\n                      <td>\r\n                        <span title={formatDate(pricing.updated_at)}>\r\n                          {getDateTimeAgo(pricing.updated_at)}\r\n                        </span>\r\n                      </td>\r\n                      <td>\r\n                        <div className='d-flex justify-content-around w-75'>\r\n                          <TableIcon onClick={() => this.onDelete(pricing)}>\r\n                            <i className='fa fa-trash'></i>\r\n                          </TableIcon>\r\n                          <TableIcon\r\n                            onClick={() => this.showEditPricing(pricing)}\r\n                          >\r\n                            <i className='fa fa-edit'></i>\r\n                          </TableIcon>\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withTemplate(Pricing);\r\n","import React from 'react';\r\nimport {places} from '../../services/constants';\r\nimport withEmployeeValidation from './with-employee-validation';\r\n\r\nfunction EmployeeWelcome(props) {\r\n  return (\r\n    <div\r\n      className='row'\r\n      style={{\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        height: '50vh',\r\n        marginTop: '15vh',\r\n      }}\r\n    >\r\n      <h1 className='jumbotron-fluid bg-transparent text-center col-12'>\r\n        Menu\r\n      </h1>\r\n      <div\r\n        className='col-md-8 pt-4 shadow shadow-dark   link emp-menu'\r\n        style={{height: '80px'}}\r\n        onClick={() => props.history.push(`/employee/dashboard/${places.BAR}`)}\r\n      >\r\n        <h5>\r\n          Bar <i className='float-right fas fa-glass-cheers'></i>\r\n        </h5>\r\n      </div>\r\n      <div\r\n        className='col-md-8 pt-4 shadow shadow-dark   link emp-menu'\r\n        style={{height: '80px'}}\r\n        onClick={() =>\r\n          props.history.push(`/employee/dashboard/${places.RESTAURANT}`)\r\n        }\r\n      >\r\n        <h5>\r\n          Restaurant <i className='float-right fas fa-utensils'></i>\r\n        </h5>\r\n      </div>\r\n      <div\r\n        className='col-md-8 pt-4 shadow shadow-dark   link emp-menu'\r\n        style={{height: '80px'}}\r\n        onClick={() =>\r\n          props.history.push(`/employee/sales/${places.RESTAURANT}`)\r\n        }\r\n      >\r\n        <h5>\r\n          Sale History <i className='float-right fas fa-history'></i>\r\n        </h5>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withEmployeeValidation(EmployeeWelcome);\r\n","import React, {useEffect, useState} from 'react';\r\nimport {trackPromise} from 'react-promise-tracker';\r\nimport {Link} from 'react-router-dom';\r\nimport ToolTipElement from '../../components/tooltip/tooltip-element';\r\nimport {\r\n  handleError,\r\n  handleSuccess,\r\n  sendGetRequest,\r\n  sendPostRequest,\r\n} from '../../services/api-handle';\r\nimport {\r\n  formatDate,\r\n  formatUrl,\r\n  getFormattedAmount,\r\n  getFromLocal,\r\n} from '../../services/utility';\r\nimport withEmployeeValidation from './with-employee-validation';\r\n\r\nfunction EmployeeSales(props) {\r\n  const currentUser = getFromLocal('currentUser');\r\n  const [sales, setSales] = useState([]);\r\n\r\n  const updateData = () => {\r\n    let url = formatUrl('sales', {sold_by: currentUser.id});\r\n\r\n    trackPromise(\r\n      handleError(\r\n        handleSuccess(sendGetRequest(url)).then((res) => {\r\n          let sales = res.data.sales;\r\n          setSales(sales);\r\n        })\r\n      )\r\n    );\r\n  };\r\n\r\n  useEffect(updateData, []);\r\n\r\n  const handleDelete = (id) => {\r\n    const updated_by = `${currentUser.firstname} ${currentUser.lastname}`;\r\n\r\n    trackPromise(\r\n      handleError(\r\n        handleSuccess(\r\n          sendPostRequest(`sales/${id}/delete`, {sale_id: id, updated_by}),\r\n          'Sale deleted successfully'\r\n        ).then((res) => {\r\n          updateData();\r\n        })\r\n      )\r\n    );\r\n  };\r\n  const place = props.match.params.place;\r\n\r\n  return (\r\n    <div className='container-fluid ml-2 mr-2'>\r\n      <h4 className='text-center'>\r\n        Sales for {currentUser.firstname}\r\n        <small className='float-right'>\r\n          <span className='badge badge-success'>Total- {sales.length}</span>\r\n        </small>\r\n      </h4>\r\n      <div className='row justify-content-center'>\r\n        <div className='table-responsive'>\r\n          <table className='table table-bordered table-hover'>\r\n            <thead>\r\n              <tr>\r\n                <th>#</th>\r\n                <th>Date</th>\r\n                <th>Number of goods</th>\r\n                <th>Total amount</th>\r\n                <th>Payment Type</th>\r\n                <th>\r\n                  Customer Pay\r\n                  <br />\r\n                  Customer Change\r\n                </th>\r\n                <th>Status</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {sales.map((sale, index) => (\r\n                <tr key={sale.id}>\r\n                  <td>{++index}</td>\r\n                  <td>\r\n                    <Link to={`/employee/sales/view/${sale.id}`}>\r\n                      {formatDate(sale.created_at)}\r\n                    </Link>\r\n                  </td>\r\n                  <td>{sale.goods_count}</td>\r\n                  <td>{sale.total}</td>\r\n                  <td>{sale.payment_method}</td>\r\n                  <td>\r\n                    {getFormattedAmount(sale.customer_pay, 1)}\r\n                    <br />\r\n                    {getFormattedAmount(sale.customer_change, 1)}\r\n                  </td>\r\n                  <td>\r\n                    {sale.status !== 1 && (\r\n                      <>\r\n                        <button\r\n                          className='btn btn-danger ml-1'\r\n                          onClick={() => handleDelete(sale.id)}\r\n                        >\r\n                          <i className='fa fa-trash mr-2'></i>\r\n                          Delete\r\n                        </button>\r\n                        <button\r\n                          className='btn btn-info ml-1'\r\n                          onClick={() =>\r\n                            props.history.push(\r\n                              `/employee/dashboard/${place}/edit/${sale.id}`\r\n                            )\r\n                          }\r\n                        >\r\n                          <i className='fa fa-edit mr-2'></i>\r\n                          Edit\r\n                        </button>\r\n                      </>\r\n                    )}\r\n                    {sale.status === 2 && (\r\n                      <ToolTipElement\r\n                        tooltip={`Edited by ${sale.updated_by} at ${formatDate(\r\n                          sale.updated_at\r\n                        )}`}\r\n                      >\r\n                        <div className='badge badge-success'>Edited</div>\r\n                      </ToolTipElement>\r\n                    )}\r\n\r\n                    {sale.status === 1 && (\r\n                      <ToolTipElement\r\n                        tooltip={`Deleted by ${sale.updated_by} at ${formatDate(\r\n                          sale.updated_at\r\n                        )}`}\r\n                      >\r\n                        <div className='badge badge-danger'>Deleted</div>\r\n                      </ToolTipElement>\r\n                    )}\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withEmployeeValidation(EmployeeSales);\r\n","import React, {useEffect, useState} from 'react';\r\nimport {trackPromise} from 'react-promise-tracker';\r\nimport {\r\n  sendGetRequest,\r\n  handleError,\r\n  handleSuccess,\r\n} from '../../services/api-handle';\r\nimport {formatDate, formatUrl} from '../../services/utility';\r\nimport withEmployeeValidation from './with-employee-validation';\r\n\r\nfunction EmployeeSaleDetail(props) {\r\n  const [sale, setSale] = useState({});\r\n  const [history, setHistory] = useState([]);\r\n  const saleId = props.match.params.id;\r\n\r\n  useEffect(() => {\r\n    let url = formatUrl('sales/history', {sale_id: saleId});\r\n\r\n    trackPromise(\r\n      handleError(\r\n        handleSuccess(sendGetRequest(url)).then((res) => {\r\n          let sale = res.data.sale[0];\r\n          let history = res.data.history;\r\n          setSale(sale);\r\n          setHistory(history);\r\n        })\r\n      )\r\n    );\r\n  }, []);\r\n  return (\r\n    <div className='container-fluid p-2 ml-2 mr-2'>\r\n      <h4 className='text-center'>Sale Details</h4>\r\n      <div className='p-2 col-12 row'>\r\n        <div className='col'>\r\n          Sold By : {`${sale.firstname} ${sale.lastname}`}\r\n        </div>\r\n        <div className='col'>Date: {formatDate(sale.created_at)}</div>\r\n        <div className='col'>Goods: {history.length}</div>\r\n        <div className='col'>Total: {sale.total}</div>\r\n      </div>\r\n      <div className='row justify-content-center pr-2 pl-2'>\r\n        <div className='table-responsive'>\r\n          <table className='table table-bordered table-hover'>\r\n            <thead>\r\n              <tr>\r\n                <th>#</th>\r\n                <th>Name</th>\r\n                <th>Category</th>\r\n                <th>Quantity</th>\r\n                <th>Measure</th>\r\n                <th>Amount</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {history.map((sale, index) => (\r\n                <tr key={sale.id}>\r\n                  <td>{++index}</td>\r\n                  <td>{sale.good_name}</td>\r\n                  <td>{sale.category_name}</td>\r\n                  <td>{sale.quantity}</td>\r\n                  <td>{sale.measure}</td>\r\n                  <td>{sale.price}</td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withEmployeeValidation(EmployeeSaleDetail);\r\n","import React, {useEffect, useState} from 'react';\r\nimport {trackPromise} from 'react-promise-tracker';\r\nimport {\r\n  handleSuccess,\r\n  handleError,\r\n  sendGetRequest,\r\n} from '../../../services/api-handle';\r\nimport {formatUrl, formatDate} from '../../../services/utility';\r\nimport withTemplate from '../with-template';\r\n\r\nfunction SaleDetail(props) {\r\n  const [sale, setSale] = useState({});\r\n  const [history, setHistory] = useState([]);\r\n  const saleId = props.match.params.id;\r\n\r\n  useEffect(() => {\r\n    let url = formatUrl('sales/history', {sale_id: saleId});\r\n\r\n    trackPromise(\r\n      handleError(\r\n        handleSuccess(sendGetRequest(url)).then((res) => {\r\n          let sale = res.data.sale[0];\r\n          let history = res.data.history;\r\n          setSale(sale);\r\n          setHistory(history);\r\n        })\r\n      )\r\n    );\r\n  }, []);\r\n  return (\r\n    <div className='mt-3'>\r\n      <h4 className='text-center'>Sale Details</h4>\r\n      <div className='p-2 col-12 row'>\r\n        <div className='col'>\r\n          Sold By : {`${sale.firstname} ${sale.lastname}`}\r\n        </div>\r\n        <div className='col'>Date: {formatDate(sale.created_at)}</div>\r\n        <div className='col'>Goods: {history.length}</div>\r\n        <div className='col'>Total: {sale.total}</div>\r\n      </div>\r\n      <div className='row justify-content-center pr-2 pl-2'>\r\n        <div className='table-responsive'>\r\n          <table className='table table-bordered table-hover'>\r\n            <thead>\r\n              <tr>\r\n                <th>#</th>\r\n                <th>Name</th>\r\n                <th>Category</th>\r\n                <th>Quantity</th>\r\n                <th>Measure</th>\r\n                <th>Amount</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {history.map((sale, index) => (\r\n                <tr key={sale.id}>\r\n                  <td>{++index}</td>\r\n                  <td>{sale.good_name}</td>\r\n                  <td>{sale.category_name}</td>\r\n                  <td>{sale.quantity}</td>\r\n                  <td>{sale.measure}</td>\r\n                  <td>{sale.price}</td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withTemplate(SaleDetail);\r\n","import React, {Component} from 'react';\r\nimport {trackPromise} from 'react-promise-tracker';\r\nimport {Link} from 'react-router-dom';\r\nimport ToolTipElement from '../../../components/tooltip/tooltip-element';\r\nimport {\r\n  handleError,\r\n  handleSuccess,\r\n  sendGetRequest,\r\n  sendPostRequest,\r\n} from '../../../services/api-handle';\r\nimport {\r\n  formatDate,\r\n  getFormattedAmount,\r\n  getFromLocal,\r\n} from '../../../services/utility';\r\nimport withTemplate from '../with-template';\r\n\r\nclass Sales extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      sales: [],\r\n    };\r\n  }\r\n\r\n  updateData = () => {\r\n    trackPromise(\r\n      handleError(\r\n        handleSuccess(sendGetRequest('sales')).then((res) => {\r\n          let sales = res.data.sales;\r\n          this.setState({sales});\r\n        })\r\n      )\r\n    );\r\n  };\r\n  componentDidMount() {\r\n    this.updateData();\r\n  }\r\n  handleDelete = (id) => {\r\n    let currentUser = getFromLocal('currentUser');\r\n    const updated_by = `${currentUser.firstname} ${currentUser.lastname}`;\r\n\r\n    trackPromise(\r\n      handleError(\r\n        handleSuccess(\r\n          sendPostRequest(`sales/${id}/delete`, {sale_id: id, updated_by}),\r\n          'Sale deleted successfully'\r\n        ).then((res) => {\r\n          this.updateData();\r\n        })\r\n      )\r\n    );\r\n  };\r\n  render() {\r\n    const {sales} = this.state;\r\n    return (\r\n      <div className='mt-3'>\r\n        <h2>\r\n          Sales\r\n          <small className='float-right'>\r\n            <span className='badge badge-success'>Total- {sales.length}</span>\r\n          </small>\r\n        </h2>\r\n        <div className='table-responsive'>\r\n          <table className='table table-striped table-sm'>\r\n            <thead>\r\n              <tr>\r\n                <th>#</th>\r\n                <th>Sold By</th>\r\n                <th>Payment Method</th>\r\n                <th>Number</th>\r\n                <th>Amount</th>\r\n                <th>Customer Pay</th>\r\n                <th>Customer Change</th>\r\n                <th>Date</th>\r\n                <th>Status</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {sales.map((sale, index) => (\r\n                <tr key={sale.id}>\r\n                  <td>{++index}</td>\r\n                  <td>\r\n                    <Link to={'/admin/sales/view/' + sale.id}>\r\n                      {sale.firstname + ' ' + sale.lastname}\r\n                    </Link>\r\n                  </td>\r\n                  <td>{sale.payment_method}</td>\r\n                  <td>{sale.goods_count}</td>\r\n                  <td>{sale.total}</td>\r\n                  <td>{getFormattedAmount(sale.customer_pay, 1)}</td>\r\n                  <td>{getFormattedAmount(sale.customer_change, 1)}</td>\r\n                  <td>{formatDate(sale.created_at)}</td>\r\n                  <td>\r\n                    {sale.status === 1 && (\r\n                      <ToolTipElement\r\n                        tooltip={`Deleted by ${sale.updated_by} at ${formatDate(\r\n                          sale.updated_at\r\n                        )}`}\r\n                      >\r\n                        <div className='badge badge-danger'>Deleted</div>\r\n                      </ToolTipElement>\r\n                    )}\r\n                    {sale.status === 2 && (\r\n                      <ToolTipElement\r\n                        tooltip={`Edited by ${sale.updated_by} at ${formatDate(\r\n                          sale.updated_at\r\n                        )}`}\r\n                      >\r\n                        <div className='badge badge-success'>Edited</div>\r\n                      </ToolTipElement>\r\n                    )}\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withTemplate(Sales);\r\n","import React from 'react';\r\nimport './loader.scss';\r\nimport {usePromiseTracker} from 'react-promise-tracker';\r\n\r\nfunction Loader() {\r\n  const {promiseInProgress} = usePromiseTracker();\r\n  if (promiseInProgress) {\r\n    return (\r\n      <div className='loader-container hidden-print'>\r\n        <div className='loader'>\r\n          <span>Loading...</span>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  return <></>;\r\n}\r\n\r\nexport default Loader;\r\n","import {\r\n  BrowserRouter as Router,\r\n  Redirect,\r\n  Route,\r\n  Switch,\r\n  useLocation,\r\n} from 'react-router-dom';\r\nimport {ToastContainer} from 'react-toastify';\r\nimport Admins from './pages/admin/admins/admins';\r\nimport AdminDashboard from './pages/admin/dashboard/admin-dashboard';\r\nimport EmployeeDashboard from './pages/employee/employee-dashboard';\r\nimport Employees from './pages/admin/employees/employees';\r\nimport Login from './pages/login/login';\r\nimport Categories from './pages/admin/category/categories';\r\nimport Goods from './pages/admin/goods/goods';\r\nimport Pricing from './pages/admin/pricing/pricing';\r\nimport EmployeeWelcome from './pages/employee/employee-welcome';\r\nimport EmployeeSales from './pages/employee/employee-sales';\r\nimport EmployeeSaleDetail from './pages/employee/employee-sale-detai';\r\nimport SaleDetail from './pages/admin/sales/sale-detail';\r\nimport Sales from './pages/admin/sales/sales';\r\nimport Loader from './components/loader/loader';\r\nimport ReceiptPrint from './components/receipt/receipt-print';\r\n\r\nfunction useQuery() {\r\n  return new URLSearchParams(useLocation().search);\r\n}\r\nfunction Routes() {\r\n  let query = useQuery();\r\n  return (\r\n    <>\r\n      <Loader />\r\n\r\n      <ToastContainer hideProgressBar={true} />\r\n      <Switch>\r\n        <Route path='/login' render={(props) => <Login {...props} />}></Route>\r\n        <Route\r\n          exact\r\n          path='/employee'\r\n          render={(props) => <EmployeeWelcome {...props} />}\r\n        ></Route>\r\n        <Route\r\n          exact\r\n          path='/employee/dashboard/:id'\r\n          render={(props) => <EmployeeDashboard {...props} />}\r\n        ></Route>\r\n        <Route\r\n          exact\r\n          path='/employee/dashboard/:id/edit/:sale_id'\r\n          render={(props) => <EmployeeDashboard {...props} />}\r\n        ></Route>\r\n        <Route\r\n          exact\r\n          path='/employee/sales/:place'\r\n          render={(props) => <EmployeeSales {...props} />}\r\n        ></Route>\r\n        <Route\r\n          exact\r\n          path='/employee/sales/view/:id'\r\n          render={(props) => <EmployeeSaleDetail {...props} />}\r\n        ></Route>\r\n        <Route\r\n          exact\r\n          path='/employee/print'\r\n          render={(props) => (\r\n            <ReceiptPrint\r\n              {...props}\r\n              sale_id={query.get('sale_id')}\r\n              width={query.get('width')}\r\n            />\r\n          )}\r\n        ></Route>\r\n        <Route\r\n          exact\r\n          path='/admin'\r\n          render={(props) => <AdminDashboard {...props} />}\r\n        ></Route>\r\n        <Route\r\n          exact\r\n          path='admin/dashboard'\r\n          render={(props) => <AdminDashboard {...props} />}\r\n        ></Route>\r\n        <Route\r\n          exact\r\n          path='/admin/sales/view/:id'\r\n          render={(props) => <SaleDetail {...props} />}\r\n        ></Route>\r\n        <Route\r\n          exact\r\n          path='/admin/sales'\r\n          render={(props) => <Sales {...props} />}\r\n        ></Route>\r\n\r\n        <Route\r\n          exact\r\n          path='/admin/admins'\r\n          render={(props) => <Admins {...props} />}\r\n        ></Route>\r\n        <Route\r\n          exact\r\n          path='/admin/employees'\r\n          render={(props) => <Employees {...props} />}\r\n        ></Route>\r\n        <Route\r\n          exact\r\n          path='/admin/categories'\r\n          render={(props) => <Categories {...props} />}\r\n        ></Route>\r\n\r\n        <Route\r\n          exact\r\n          path='/admin/products/:id'\r\n          render={(props) => <Goods {...props} />}\r\n        ></Route>\r\n        <Route\r\n          exact\r\n          path='/admin/products/:id/pricing'\r\n          render={(props) => <Pricing {...props} />}\r\n        ></Route>\r\n\r\n        <Redirect exact to='/login' />\r\n      </Switch>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Routes;\r\n","import React from 'react';\nimport Routes from './routes';\nimport {BrowserRouter as Router} from 'react-router-dom';\n\nfunction App() {\n  return (\n    <Router>\n      <Routes />\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport $ from 'jquery';\nimport Popper from 'popper.js';\n\nimport 'bootstrap';\nimport './sass/app.scss';\n\nwindow.$ = $;\nwindow.Popper = Popper;\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}